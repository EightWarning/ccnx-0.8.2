<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Content-Centric Networking in C: sync/sync_diff.c File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Content-Centric Networking in C
   &#160;<span id="projectnumber">0.8.2</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="dir_932c5379382f30a57836f6ddc95c8e60.html">sync</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">sync_diff.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Part of CCNx Sync.  
<a href="#details">More...</a></p>

<p><a href="sync__diff_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync__diff_8c.html#a8d981d346c90e43d3f8d9e52077e28ca">setCovered</a> (struct <a class="el" href="struct_sync_hash_cache_entry.html">SyncHashCacheEntry</a> *ce)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync__diff_8c.html#a870761b1ea0620fc7bf78e6a7c4a8fb3">isCovered</a> (struct <a class="el" href="struct_sync_hash_cache_entry.html">SyncHashCacheEntry</a> *ce)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <br class="typebreak"/>
<a class="el" href="structsync__diff__fetch__data.html">sync_diff_fetch_data</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync__diff_8c.html#a49a64c3583c2f1ac3c4967c337e130a0">allocNodeFetch</a> (struct <a class="el" href="structsync__diff__data.html">sync_diff_data</a> *sdd, struct <a class="el" href="struct_sync_hash_cache_entry.html">SyncHashCacheEntry</a> *ce)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <br class="typebreak"/>
<a class="el" href="structsync__diff__fetch__data.html">sync_diff_fetch_data</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync__diff_8c.html#af2471003bfb1cc750027d448b2abe58b">addNodeFetch</a> (struct <a class="el" href="structsync__diff__data.html">sync_diff_data</a> *sdd, struct <a class="el" href="struct_sync_hash_cache_entry.html">SyncHashCacheEntry</a> *ce, enum <a class="el" href="sync__diff_8h.html#a6e15e35d7afe80f23fa4bda464bc86bf">sync_diff_side</a> side)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <br class="typebreak"/>
<a class="el" href="structsync__diff__fetch__data.html">sync_diff_fetch_data</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync__diff_8c.html#a06ceecb0e3976283d223d8c250cc9ff3">remNodeFetch</a> (struct <a class="el" href="structsync__diff__data.html">sync_diff_data</a> *sdd, struct <a class="el" href="struct_sync_hash_cache_entry.html">SyncHashCacheEntry</a> *ce)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync__diff_8c.html#a85ca214fc1bc97b25fe23c1363cd593d">formatCacheEntry</a> (struct <a class="el" href="struct_sync_root_struct.html">SyncRootStruct</a> *root, char *dst, int lim, char *prefix, struct <a class="el" href="struct_sync_hash_cache_entry.html">SyncHashCacheEntry</a> *ce)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync__diff_8c.html#a677c4508262ab00cdea51b16065eac17">showCacheEntry1</a> (struct <a class="el" href="struct_sync_root_struct.html">SyncRootStruct</a> *root, char *here, char *msg, struct <a class="el" href="struct_sync_hash_cache_entry.html">SyncHashCacheEntry</a> *ce)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync__diff_8c.html#a693571491e7f8b307640238175b6aa57">showCacheEntry2</a> (struct <a class="el" href="struct_sync_root_struct.html">SyncRootStruct</a> *root, char *here, char *msg, struct <a class="el" href="struct_sync_hash_cache_entry.html">SyncHashCacheEntry</a> *ce1, struct <a class="el" href="struct_sync_hash_cache_entry.html">SyncHashCacheEntry</a> *ce2)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync__diff_8c.html#a31715d7e9f5852d90ca9b6d5a2d16986">compareAction</a> (struct ccn_schedule *sched, void *clienth, struct <a class="el" href="structccn__scheduled__event.html">ccn_scheduled_event</a> *ev, int flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync__diff_8c.html#ad7dd34a571d7610744d405d6d20f5e8d">updateAction</a> (struct ccn_schedule *sched, void *clienth, struct <a class="el" href="structccn__scheduled__event.html">ccn_scheduled_event</a> *ev, int flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync__diff_8c.html#a7e6d6e49a77c4bbd419a15345182d344">freeFetchData</a> (struct <a class="el" href="structsync__diff__fetch__data.html">sync_diff_fetch_data</a> *fd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync__diff_8c.html#a8d52b9e0db366a10c79a3014f2319d75">resetDiffData</a> (struct <a class="el" href="structsync__diff__data.html">sync_diff_data</a> *sdd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync__diff_8c.html#ab9656b13bde807ac27980d88fa49f026">resetUpdateData</a> (struct <a class="el" href="structsync__update__data.html">sync_update_data</a> *ud)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync__diff_8c.html#a3bb2d2b15c7a550960f237975f4d27b6">abortCompare</a> (struct <a class="el" href="structsync__diff__data.html">sync_diff_data</a> *sdd, char *why)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync__diff_8c.html#ab315e023d432486f7c2b0966654b3c8c">comparisonFailed</a> (struct <a class="el" href="structsync__diff__data.html">sync_diff_data</a> *sdd, char *why, int line)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync__diff_8c.html#aaf9c87ebf674e592c7bcb15aebbe937e">extractBuf</a> (struct <a class="el" href="structccn__charbuf.html">ccn_charbuf</a> *cb, struct <a class="el" href="struct_sync_node_composite.html">SyncNodeComposite</a> *nc, struct <a class="el" href="struct_sync_node_elem.html">SyncNodeElem</a> *ne)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="struct_sync_hash_cache_entry.html">SyncHashCacheEntry</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync__diff_8c.html#a6eea619c02366baa2c0f7391a3d331f2">entryForHash</a> (struct <a class="el" href="struct_sync_root_struct.html">SyncRootStruct</a> *root, struct <a class="el" href="structccn__charbuf.html">ccn_charbuf</a> *hash)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync__diff_8c.html#aa6a3bb3fd352266999d3ff44c18f4488">initWorkerFromHash</a> (struct <a class="el" href="struct_sync_root_struct.html">SyncRootStruct</a> *root, struct <a class="el" href="struct_sync_tree_worker_head.html">SyncTreeWorkerHead</a> *tw, struct <a class="el" href="structccn__charbuf.html">ccn_charbuf</a> *hash)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="struct_sync_hash_cache_entry.html">SyncHashCacheEntry</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync__diff_8c.html#ae36b30555d09158a5fae4d8658d49fe1">cacheEntryForElem</a> (struct <a class="el" href="structsync__diff__data.html">sync_diff_data</a> *sdd, struct <a class="el" href="struct_sync_node_composite.html">SyncNodeComposite</a> *nc, struct <a class="el" href="struct_sync_node_elem.html">SyncNodeElem</a> *ne)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync__diff_8c.html#ae67b3191df0edba9de445e0b36dc1b0b">kickCompare</a> (struct <a class="el" href="structsync__diff__data.html">sync_diff_data</a> *sdd, int micros)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync__diff_8c.html#a73f268e26ad71d0c588bf953e30610d1">kickUpdate</a> (struct <a class="el" href="structsync__update__data.html">sync_update_data</a> *ud, int micros)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structccn__charbuf.html">ccn_charbuf</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync__diff_8c.html#a36c48b475019d6fd3eff04a343e09b94">constructCommandPrefix</a> (struct <a class="el" href="struct_sync_root_struct.html">SyncRootStruct</a> *root, struct <a class="el" href="structccn__charbuf.html">ccn_charbuf</a> *hash, char *cmd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync__diff_8c.html#ae7e18f957924a160ff1b68a328aadf85">start_node_fetch</a> (struct <a class="el" href="structsync__diff__data.html">sync_diff_data</a> *sdd, struct <a class="el" href="struct_sync_hash_cache_entry.html">SyncHashCacheEntry</a> *ce, enum <a class="el" href="sync__diff_8h.html#a6e15e35d7afe80f23fa4bda464bc86bf">sync_diff_side</a> side)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync__diff_8c.html#a3525d6b09b95889fc98472f40e9f93b0">doPreload</a> (struct <a class="el" href="structsync__diff__data.html">sync_diff_data</a> *sdd, struct <a class="el" href="struct_sync_tree_worker_head.html">SyncTreeWorkerHead</a> *twHead, enum <a class="el" href="sync__diff_8h.html#a6e15e35d7afe80f23fa4bda464bc86bf">sync_diff_side</a> side)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">doPreload(sdd) walks the given tree, and requests a fetch for every node that is not covered and is not in the cache, and is not being fetched.  <a href="#a3525d6b09b95889fc98472f40e9f93b0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync__diff_8c.html#acc9c042023c7de74dfb004cf3f4470de">addNameFromCompare</a> (struct <a class="el" href="structsync__diff__data.html">sync_diff_data</a> *sdd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync__diff_8c.html#a8795ec3504c2f70d327752e333038b4e">doComparison</a> (struct <a class="el" href="structsync__diff__data.html">sync_diff_data</a> *sdd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="struct_sync_hash_cache_entry.html">SyncHashCacheEntry</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync__diff_8c.html#a12f107ab8c09088d09713f29247cdbab">newNodeCommon</a> (struct <a class="el" href="struct_sync_root_struct.html">SyncRootStruct</a> *root, struct <a class="el" href="struct_sync_node_accum.html">SyncNodeAccum</a> *nodes, struct <a class="el" href="struct_sync_node_composite.html">SyncNodeComposite</a> *nc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="struct_sync_hash_cache_entry.html">SyncHashCacheEntry</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync__diff_8c.html#a41bfae51234a2b95442493843fc12ab9">node_from_nodes</a> (struct <a class="el" href="struct_sync_root_struct.html">SyncRootStruct</a> *root, struct <a class="el" href="struct_sync_node_accum.html">SyncNodeAccum</a> *na)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync__diff_8c.html#a72146a563f8150859821220b8665837b">node_from_names</a> (struct <a class="el" href="structsync__update__data.html">sync_update_data</a> *ud, int split)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync__diff_8c.html#a1132ffd0441e72a582b434b9242da15c">try_node_split</a> (struct <a class="el" href="structsync__update__data.html">sync_update_data</a> *ud)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync__diff_8c.html#ae674232388177bfa913955bbcff76aa6">add_update_name</a> (struct <a class="el" href="structsync__update__data.html">sync_update_data</a> *ud, struct <a class="el" href="structccn__charbuf.html">ccn_charbuf</a> *name, int isNew)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync__diff_8c.html#af56e897b6345d7acf11d6d7eaca1a37d">merge_names</a> (struct <a class="el" href="structsync__update__data.html">sync_update_data</a> *ud)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync__diff_8c.html#adb2f80f09746c793e14ffb9fbda81a3b">updateError</a> (struct <a class="el" href="structsync__update__data.html">sync_update_data</a> *ud)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync__diff_8c.html#a86612ec768575d85f0d28d310bc71cf9">sync_diff_start</a> (struct <a class="el" href="structsync__diff__data.html">sync_diff_data</a> *sdd)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">sync_diff_start starts a differencing operation between two sync trees, specified by sdd-&gt;hashX and sdd-&gt;hashY for the collection in sdd-&gt;root.  <a href="#a86612ec768575d85f0d28d310bc71cf9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync__diff_8c.html#ac2dcc6edc4b46bbc8514086b8dc263de">sync_diff_note_node</a> (struct <a class="el" href="structsync__diff__data.html">sync_diff_data</a> *sdd, struct <a class="el" href="struct_sync_hash_cache_entry.html">SyncHashCacheEntry</a> *ce)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">sync_diff_note_node is used to establish the result of the client closure sdd-&gt;get, and restarts the comparison.  <a href="#ac2dcc6edc4b46bbc8514086b8dc263de"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync__diff_8c.html#a1be9171a2f9c634b8562511688f16222">sync_diff_stop</a> (struct <a class="el" href="structsync__diff__data.html">sync_diff_data</a> *sdd)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">sync_diff_stop will stop the differencing operation if it has not completed.  <a href="#a1be9171a2f9c634b8562511688f16222"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync__diff_8c.html#a3bb272eae464ab13b38049b71d84f3d1">sync_update_start</a> (struct <a class="el" href="structsync__update__data.html">sync_update_data</a> *ud, struct <a class="el" href="struct_sync_name_accum.html">SyncNameAccum</a> *acc)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">sync_update_start is called to start an update of ud-&gt;ceStart, based on the names added via acc, to result in a tree with root hash stored in ud-&gt;ceStop.  <a href="#a3bb272eae464ab13b38049b71d84f3d1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync__diff_8c.html#a79c577f4db986229fa0768e32782d3c3">sync_update_stop</a> (struct <a class="el" href="structsync__update__data.html">sync_update_data</a> *ud)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">sync_update_stop can be called to stop the update operation.  <a href="#a79c577f4db986229fa0768e32782d3c3"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync__diff_8c.html#ad6e384ed8d6687203b96177c4425df08">nodeSplitTrigger</a> = 4000</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync__diff_8c.html#a81327fc9c584dac59986ec3725d2cd77">hashSplitTrigger</a> = 17</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync__diff_8c.html#a259cad241b04e57ac063e149d3fb511e">shortDelayMicros</a> = 1000</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync__diff_8c.html#ad6ea5755329f76c1602ad6ba25a27daf">namesYieldInc</a> = 100</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync__diff_8c.html#a01f91d5802d6020d15662f4afea91e9f">namesYieldMicros</a> = 20*1000</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Part of CCNx Sync. </p>
<p>Copyright (C) 2012-2013 Palo Alto Research Center, Inc.</p>
<p>This library is free software; you can redistribute it and/or modify it under the terms of the GNU Lesser General Public License version 2.1 as published by the Free Software Foundation. This library is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License for more details. You should have received a copy of the GNU Lesser General Public License along with this library; if not, write to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA. </p>

<p>Definition in file <a class="el" href="sync__diff_8c_source.html">sync_diff.c</a>.</p>
</div><hr/><h2>Function Documentation</h2>
<a class="anchor" id="a3bb2d2b15c7a550960f237975f4d27b6"></a><!-- doxytag: member="sync_diff.c::abortCompare" ref="a3bb2d2b15c7a550960f237975f4d27b6" args="(struct sync_diff_data *sdd, char *why)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int <a class="el" href="_sync_actions_8c.html#a6ffcca40b4dd24eda285bddfc24ece7e">abortCompare</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsync__diff__data.html">sync_diff_data</a> *&#160;</td>
          <td class="paramname"><em>sdd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>why</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sync__diff_8c_source.html#l00215">215</a> of file <a class="el" href="sync__diff_8c_source.html">sync_diff.c</a>.</p>

<p>Referenced by <a class="el" href="sync__diff_8c_source.html#l00829">compareAction()</a>, and <a class="el" href="sync__diff_8c_source.html#l00451">doPreload()</a>.</p>

</div>
</div>
<a class="anchor" id="ae674232388177bfa913955bbcff76aa6"></a><!-- doxytag: member="sync_diff.c::add_update_name" ref="ae674232388177bfa913955bbcff76aa6" args="(struct sync_update_data *ud, struct ccn_charbuf *name, int isNew)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int <a class="el" href="sync__diff_8c.html#ae674232388177bfa913955bbcff76aa6">add_update_name</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsync__update__data.html">sync_update_data</a> *&#160;</td>
          <td class="paramname"><em>ud</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structccn__charbuf.html">ccn_charbuf</a> *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>isNew</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sync__diff_8c_source.html#l01232">1232</a> of file <a class="el" href="sync__diff_8c_source.html">sync_diff.c</a>.</p>

<p>Referenced by <a class="el" href="sync__diff_8c_source.html#l01258">merge_names()</a>.</p>

</div>
</div>
<a class="anchor" id="acc9c042023c7de74dfb004cf3f4470de"></a><!-- doxytag: member="sync_diff.c::addNameFromCompare" ref="acc9c042023c7de74dfb004cf3f4470de" args="(struct sync_diff_data *sdd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int <a class="el" href="_sync_actions_8c.html#a3195c4b08a028d7d415c24cb746f503b">addNameFromCompare</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsync__diff__data.html">sync_diff_data</a> *&#160;</td>
          <td class="paramname"><em>sdd</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sync__diff_8c_source.html#l00542">542</a> of file <a class="el" href="sync__diff_8c_source.html">sync_diff.c</a>.</p>

<p>Referenced by <a class="el" href="sync__diff_8c_source.html#l00575">doComparison()</a>.</p>

</div>
</div>
<a class="anchor" id="af2471003bfb1cc750027d448b2abe58b"></a><!-- doxytag: member="sync_diff.c::addNodeFetch" ref="af2471003bfb1cc750027d448b2abe58b" args="(struct sync_diff_data *sdd, struct SyncHashCacheEntry *ce, enum sync_diff_side side)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structsync__diff__fetch__data.html">sync_diff_fetch_data</a>* <a class="el" href="sync__diff_8c.html#af2471003bfb1cc750027d448b2abe58b">addNodeFetch</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsync__diff__data.html">sync_diff_data</a> *&#160;</td>
          <td class="paramname"><em>sdd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="struct_sync_hash_cache_entry.html">SyncHashCacheEntry</a> *&#160;</td>
          <td class="paramname"><em>ce</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="sync__diff_8h.html#a6e15e35d7afe80f23fa4bda464bc86bf">sync_diff_side</a>&#160;</td>
          <td class="paramname"><em>side</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sync__diff_8c_source.html#l00078">78</a> of file <a class="el" href="sync__diff_8c_source.html">sync_diff.c</a>.</p>

<p>Referenced by <a class="el" href="sync__diff_8c_source.html#l00375">start_node_fetch()</a>.</p>

</div>
</div>
<a class="anchor" id="a49a64c3583c2f1ac3c4967c337e130a0"></a><!-- doxytag: member="sync_diff.c::allocNodeFetch" ref="a49a64c3583c2f1ac3c4967c337e130a0" args="(struct sync_diff_data *sdd, struct SyncHashCacheEntry *ce)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structsync__diff__fetch__data.html">sync_diff_fetch_data</a>* <a class="el" href="sync__diff_8c.html#a49a64c3583c2f1ac3c4967c337e130a0">allocNodeFetch</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsync__diff__data.html">sync_diff_data</a> *&#160;</td>
          <td class="paramname"><em>sdd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="struct_sync_hash_cache_entry.html">SyncHashCacheEntry</a> *&#160;</td>
          <td class="paramname"><em>ce</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sync__diff_8c_source.html#l00066">66</a> of file <a class="el" href="sync__diff_8c_source.html">sync_diff.c</a>.</p>

<p>Referenced by <a class="el" href="sync__diff_8c_source.html#l00078">addNodeFetch()</a>.</p>

</div>
</div>
<a class="anchor" id="ae36b30555d09158a5fae4d8658d49fe1"></a><!-- doxytag: member="sync_diff.c::cacheEntryForElem" ref="ae36b30555d09158a5fae4d8658d49fe1" args="(struct sync_diff_data *sdd, struct SyncNodeComposite *nc, struct SyncNodeElem *ne)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="struct_sync_hash_cache_entry.html">SyncHashCacheEntry</a>* <a class="el" href="_sync_actions_8c.html#a7bfdb2b3f3276a018144a52daaa6122b">cacheEntryForElem</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsync__diff__data.html">sync_diff_data</a> *&#160;</td>
          <td class="paramname"><em>sdd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="struct_sync_node_composite.html">SyncNodeComposite</a> *&#160;</td>
          <td class="paramname"><em>nc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="struct_sync_node_elem.html">SyncNodeElem</a> *&#160;</td>
          <td class="paramname"><em>ne</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sync__diff_8c_source.html#l00266">266</a> of file <a class="el" href="sync__diff_8c_source.html">sync_diff.c</a>.</p>

<p>Referenced by <a class="el" href="sync__diff_8c_source.html#l00575">doComparison()</a>, and <a class="el" href="sync__diff_8c_source.html#l00451">doPreload()</a>.</p>

</div>
</div>
<a class="anchor" id="a31715d7e9f5852d90ca9b6d5a2d16986"></a><!-- doxytag: member="sync_diff.c::compareAction" ref="a31715d7e9f5852d90ca9b6d5a2d16986" args="(struct ccn_schedule *sched, void *clienth, struct ccn_scheduled_event *ev, int flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int <a class="el" href="sync__diff_8c.html#a31715d7e9f5852d90ca9b6d5a2d16986">compareAction</a> </td>
          <td>(</td>
          <td class="paramtype">struct ccn_schedule *&#160;</td>
          <td class="paramname"><em>sched</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>clienth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structccn__scheduled__event.html">ccn_scheduled_event</a> *&#160;</td>
          <td class="paramname"><em>ev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sync__diff_8c_source.html#l00829">829</a> of file <a class="el" href="sync__diff_8c_source.html">sync_diff.c</a>.</p>

<p>Referenced by <a class="el" href="sync__diff_8c_source.html#l00305">kickCompare()</a>.</p>

</div>
</div>
<a class="anchor" id="ab315e023d432486f7c2b0966654b3c8c"></a><!-- doxytag: member="sync_diff.c::comparisonFailed" ref="ab315e023d432486f7c2b0966654b3c8c" args="(struct sync_diff_data *sdd, char *why, int line)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int <a class="el" href="_sync_actions_8c.html#a839f3c57b2aad7b029b076f05acde0e3">comparisonFailed</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsync__diff__data.html">sync_diff_data</a> *&#160;</td>
          <td class="paramname"><em>sdd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>why</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sync__diff_8c_source.html#l00235">235</a> of file <a class="el" href="sync__diff_8c_source.html">sync_diff.c</a>.</p>

<p>Referenced by <a class="el" href="sync__diff_8c_source.html#l00575">doComparison()</a>.</p>

</div>
</div>
<a class="anchor" id="a36c48b475019d6fd3eff04a343e09b94"></a><!-- doxytag: member="sync_diff.c::constructCommandPrefix" ref="a36c48b475019d6fd3eff04a343e09b94" args="(struct SyncRootStruct *root, struct ccn_charbuf *hash, char *cmd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structccn__charbuf.html">ccn_charbuf</a>* <a class="el" href="_sync_actions_8c.html#adf89fd412f0e65a80e9a7e961f7d6b13">constructCommandPrefix</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_sync_root_struct.html">SyncRootStruct</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structccn__charbuf.html">ccn_charbuf</a> *&#160;</td>
          <td class="paramname"><em>hash</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>cmd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sync__diff_8c_source.html#l00341">341</a> of file <a class="el" href="sync__diff_8c_source.html">sync_diff.c</a>.</p>

<p>Referenced by <a class="el" href="sync__diff_8c_source.html#l00375">start_node_fetch()</a>.</p>

</div>
</div>
<a class="anchor" id="a8795ec3504c2f70d327752e333038b4e"></a><!-- doxytag: member="sync_diff.c::doComparison" ref="a8795ec3504c2f70d327752e333038b4e" args="(struct sync_diff_data *sdd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int <a class="el" href="_sync_actions_8c.html#a5a4c7d24bb2d0d6fe9008b3b36f70dd3">doComparison</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsync__diff__data.html">sync_diff_data</a> *&#160;</td>
          <td class="paramname"><em>sdd</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sync__diff_8c_source.html#l00575">575</a> of file <a class="el" href="sync__diff_8c_source.html">sync_diff.c</a>.</p>

<p>Referenced by <a class="el" href="sync__diff_8c_source.html#l00829">compareAction()</a>.</p>

</div>
</div>
<a class="anchor" id="a3525d6b09b95889fc98472f40e9f93b0"></a><!-- doxytag: member="sync_diff.c::doPreload" ref="a3525d6b09b95889fc98472f40e9f93b0" args="(struct sync_diff_data *sdd, struct SyncTreeWorkerHead *twHead, enum sync_diff_side side)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int <a class="el" href="_sync_actions_8c.html#a348fc44c61e040fec66f083f0785edaa">doPreload</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsync__diff__data.html">sync_diff_data</a> *&#160;</td>
          <td class="paramname"><em>sdd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="struct_sync_tree_worker_head.html">SyncTreeWorkerHead</a> *&#160;</td>
          <td class="paramname"><em>twHead</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="sync__diff_8h.html#a6e15e35d7afe80f23fa4bda464bc86bf">sync_diff_side</a>&#160;</td>
          <td class="paramname"><em>side</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>doPreload(sdd) walks the given tree, and requests a fetch for every node that is not covered and is not in the cache, and is not being fetched. </p>
<p>This allows sync trees to be fetched in parallel. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>&lt; 0 for failure, 0 for incomplete, and &gt; 0 for success </dd></dl>

<p>Definition at line <a class="el" href="sync__diff_8c_source.html#l00451">451</a> of file <a class="el" href="sync__diff_8c_source.html">sync_diff.c</a>.</p>

<p>Referenced by <a class="el" href="sync__diff_8c_source.html#l00829">compareAction()</a>.</p>

</div>
</div>
<a class="anchor" id="a6eea619c02366baa2c0f7391a3d331f2"></a><!-- doxytag: member="sync_diff.c::entryForHash" ref="a6eea619c02366baa2c0f7391a3d331f2" args="(struct SyncRootStruct *root, struct ccn_charbuf *hash)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="struct_sync_hash_cache_entry.html">SyncHashCacheEntry</a>* <a class="el" href="sync__diff_8c.html#a6eea619c02366baa2c0f7391a3d331f2">entryForHash</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_sync_root_struct.html">SyncRootStruct</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structccn__charbuf.html">ccn_charbuf</a> *&#160;</td>
          <td class="paramname"><em>hash</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sync__diff_8c_source.html#l00250">250</a> of file <a class="el" href="sync__diff_8c_source.html">sync_diff.c</a>.</p>

<p>Referenced by <a class="el" href="sync__diff_8c_source.html#l00829">compareAction()</a>, <a class="el" href="sync__diff_8c_source.html#l00258">initWorkerFromHash()</a>, <a class="el" href="sync__diff_8c_source.html#l00955">newNodeCommon()</a>, <a class="el" href="sync__diff_8c_source.html#l01020">node_from_nodes()</a>, and <a class="el" href="sync__diff_8c_source.html#l01519">sync_diff_start()</a>.</p>

</div>
</div>
<a class="anchor" id="aaf9c87ebf674e592c7bcb15aebbe937e"></a><!-- doxytag: member="sync_diff.c::extractBuf" ref="aaf9c87ebf674e592c7bcb15aebbe937e" args="(struct ccn_charbuf *cb, struct SyncNodeComposite *nc, struct SyncNodeElem *ne)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int <a class="el" href="_sync_actions_8c.html#aaf9c87ebf674e592c7bcb15aebbe937e">extractBuf</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccn__charbuf.html">ccn_charbuf</a> *&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="struct_sync_node_composite.html">SyncNodeComposite</a> *&#160;</td>
          <td class="paramname"><em>nc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="struct_sync_node_elem.html">SyncNodeElem</a> *&#160;</td>
          <td class="paramname"><em>ne</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sync__diff_8c_source.html#l00241">241</a> of file <a class="el" href="sync__diff_8c_source.html">sync_diff.c</a>.</p>

<p>Referenced by <a class="el" href="sync__diff_8c_source.html#l00575">doComparison()</a>, and <a class="el" href="sync__diff_8c_source.html#l01258">merge_names()</a>.</p>

</div>
</div>
<a class="anchor" id="a85ca214fc1bc97b25fe23c1363cd593d"></a><!-- doxytag: member="sync_diff.c::formatCacheEntry" ref="a85ca214fc1bc97b25fe23c1363cd593d" args="(struct SyncRootStruct *root, char *dst, int lim, char *prefix, struct SyncHashCacheEntry *ce)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int <a class="el" href="sync__diff_8c.html#a85ca214fc1bc97b25fe23c1363cd593d">formatCacheEntry</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_sync_root_struct.html">SyncRootStruct</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="struct_sync_hash_cache_entry.html">SyncHashCacheEntry</a> *&#160;</td>
          <td class="paramname"><em>ce</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sync__diff_8c_source.html#l00126">126</a> of file <a class="el" href="sync__diff_8c_source.html">sync_diff.c</a>.</p>

<p>Referenced by <a class="el" href="sync__diff_8c_source.html#l00135">showCacheEntry1()</a>, and <a class="el" href="sync__diff_8c_source.html#l00143">showCacheEntry2()</a>.</p>

</div>
</div>
<a class="anchor" id="a7e6d6e49a77c4bbd419a15345182d344"></a><!-- doxytag: member="sync_diff.c::freeFetchData" ref="a7e6d6e49a77c4bbd419a15345182d344" args="(struct sync_diff_fetch_data *fd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void <a class="el" href="sync__diff_8c.html#a7e6d6e49a77c4bbd419a15345182d344">freeFetchData</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsync__diff__fetch__data.html">sync_diff_fetch_data</a> *&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sync__diff_8c_source.html#l00165">165</a> of file <a class="el" href="sync__diff_8c_source.html">sync_diff.c</a>.</p>

<p>Referenced by <a class="el" href="sync__diff_8c_source.html#l00451">doPreload()</a>, <a class="el" href="sync__diff_8c_source.html#l00175">resetDiffData()</a>, <a class="el" href="sync__diff_8c_source.html#l00375">start_node_fetch()</a>, and <a class="el" href="sync__diff_8c_source.html#l01551">sync_diff_note_node()</a>.</p>

</div>
</div>
<a class="anchor" id="aa6a3bb3fd352266999d3ff44c18f4488"></a><!-- doxytag: member="sync_diff.c::initWorkerFromHash" ref="aa6a3bb3fd352266999d3ff44c18f4488" args="(struct SyncRootStruct *root, struct SyncTreeWorkerHead *tw, struct ccn_charbuf *hash)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void <a class="el" href="sync__diff_8c.html#aa6a3bb3fd352266999d3ff44c18f4488">initWorkerFromHash</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_sync_root_struct.html">SyncRootStruct</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="struct_sync_tree_worker_head.html">SyncTreeWorkerHead</a> *&#160;</td>
          <td class="paramname"><em>tw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structccn__charbuf.html">ccn_charbuf</a> *&#160;</td>
          <td class="paramname"><em>hash</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sync__diff_8c_source.html#l00258">258</a> of file <a class="el" href="sync__diff_8c_source.html">sync_diff.c</a>.</p>

<p>Referenced by <a class="el" href="sync__diff_8c_source.html#l00829">compareAction()</a>.</p>

</div>
</div>
<a class="anchor" id="a870761b1ea0620fc7bf78e6a7c4a8fb3"></a><!-- doxytag: member="sync_diff.c::isCovered" ref="a870761b1ea0620fc7bf78e6a7c4a8fb3" args="(struct SyncHashCacheEntry *ce)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int <a class="el" href="_sync_actions_8c.html#a870761b1ea0620fc7bf78e6a7c4a8fb3">isCovered</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_sync_hash_cache_entry.html">SyncHashCacheEntry</a> *&#160;</td>
          <td class="paramname"><em>ce</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sync__diff_8c_source.html#l00056">56</a> of file <a class="el" href="sync__diff_8c_source.html">sync_diff.c</a>.</p>

<p>Referenced by <a class="el" href="sync__diff_8c_source.html#l00575">doComparison()</a>.</p>

</div>
</div>
<a class="anchor" id="ae67b3191df0edba9de445e0b36dc1b0b"></a><!-- doxytag: member="sync_diff.c::kickCompare" ref="ae67b3191df0edba9de445e0b36dc1b0b" args="(struct sync_diff_data *sdd, int micros)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void <a class="el" href="_sync_actions_8c.html#ad2d955864020d9986169c8574244c472">kickCompare</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsync__diff__data.html">sync_diff_data</a> *&#160;</td>
          <td class="paramname"><em>sdd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>micros</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sync__diff_8c_source.html#l00305">305</a> of file <a class="el" href="sync__diff_8c_source.html">sync_diff.c</a>.</p>

<p>Referenced by <a class="el" href="sync__diff_8c_source.html#l01551">sync_diff_note_node()</a>, and <a class="el" href="sync__diff_8c_source.html#l01519">sync_diff_start()</a>.</p>

</div>
</div>
<a class="anchor" id="a73f268e26ad71d0c588bf953e30610d1"></a><!-- doxytag: member="sync_diff.c::kickUpdate" ref="a73f268e26ad71d0c588bf953e30610d1" args="(struct sync_update_data *ud, int micros)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void <a class="el" href="sync__diff_8c.html#a73f268e26ad71d0c588bf953e30610d1">kickUpdate</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsync__update__data.html">sync_update_data</a> *&#160;</td>
          <td class="paramname"><em>ud</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>micros</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sync__diff_8c_source.html#l00323">323</a> of file <a class="el" href="sync__diff_8c_source.html">sync_diff.c</a>.</p>

<p>Referenced by <a class="el" href="sync__diff_8c_source.html#l01623">sync_update_start()</a>.</p>

</div>
</div>
<a class="anchor" id="af56e897b6345d7acf11d6d7eaca1a37d"></a><!-- doxytag: member="sync_diff.c::merge_names" ref="af56e897b6345d7acf11d6d7eaca1a37d" args="(struct sync_update_data *ud)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int <a class="el" href="sync__diff_8c.html#af56e897b6345d7acf11d6d7eaca1a37d">merge_names</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsync__update__data.html">sync_update_data</a> *&#160;</td>
          <td class="paramname"><em>ud</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sync__diff_8c_source.html#l01258">1258</a> of file <a class="el" href="sync__diff_8c_source.html">sync_diff.c</a>.</p>

<p>Referenced by <a class="el" href="sync__diff_8c_source.html#l01375">updateAction()</a>.</p>

</div>
</div>
<a class="anchor" id="a12f107ab8c09088d09713f29247cdbab"></a><!-- doxytag: member="sync_diff.c::newNodeCommon" ref="a12f107ab8c09088d09713f29247cdbab" args="(struct SyncRootStruct *root, struct SyncNodeAccum *nodes, struct SyncNodeComposite *nc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="struct_sync_hash_cache_entry.html">SyncHashCacheEntry</a>* <a class="el" href="_sync_actions_8c.html#a12f107ab8c09088d09713f29247cdbab">newNodeCommon</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_sync_root_struct.html">SyncRootStruct</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="struct_sync_node_accum.html">SyncNodeAccum</a> *&#160;</td>
          <td class="paramname"><em>nodes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="struct_sync_node_composite.html">SyncNodeComposite</a> *&#160;</td>
          <td class="paramname"><em>nc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sync__diff_8c_source.html#l00955">955</a> of file <a class="el" href="sync__diff_8c_source.html">sync_diff.c</a>.</p>

<p>Referenced by <a class="el" href="sync__diff_8c_source.html#l01079">node_from_names()</a>, and <a class="el" href="sync__diff_8c_source.html#l01020">node_from_nodes()</a>.</p>

</div>
</div>
<a class="anchor" id="a72146a563f8150859821220b8665837b"></a><!-- doxytag: member="sync_diff.c::node_from_names" ref="a72146a563f8150859821220b8665837b" args="(struct sync_update_data *ud, int split)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int <a class="el" href="sync__diff_8c.html#a72146a563f8150859821220b8665837b">node_from_names</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsync__update__data.html">sync_update_data</a> *&#160;</td>
          <td class="paramname"><em>ud</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>split</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sync__diff_8c_source.html#l01079">1079</a> of file <a class="el" href="sync__diff_8c_source.html">sync_diff.c</a>.</p>

<p>Referenced by <a class="el" href="sync__diff_8c_source.html#l01154">try_node_split()</a>, and <a class="el" href="sync__diff_8c_source.html#l01375">updateAction()</a>.</p>

</div>
</div>
<a class="anchor" id="a41bfae51234a2b95442493843fc12ab9"></a><!-- doxytag: member="sync_diff.c::node_from_nodes" ref="a41bfae51234a2b95442493843fc12ab9" args="(struct SyncRootStruct *root, struct SyncNodeAccum *na)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="struct_sync_hash_cache_entry.html">SyncHashCacheEntry</a>* <a class="el" href="sync__diff_8c.html#a41bfae51234a2b95442493843fc12ab9">node_from_nodes</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_sync_root_struct.html">SyncRootStruct</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="struct_sync_node_accum.html">SyncNodeAccum</a> *&#160;</td>
          <td class="paramname"><em>na</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sync__diff_8c_source.html#l01020">1020</a> of file <a class="el" href="sync__diff_8c_source.html">sync_diff.c</a>.</p>

<p>Referenced by <a class="el" href="sync__diff_8c_source.html#l01375">updateAction()</a>.</p>

</div>
</div>
<a class="anchor" id="a06ceecb0e3976283d223d8c250cc9ff3"></a><!-- doxytag: member="sync_diff.c::remNodeFetch" ref="a06ceecb0e3976283d223d8c250cc9ff3" args="(struct sync_diff_data *sdd, struct SyncHashCacheEntry *ce)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structsync__diff__fetch__data.html">sync_diff_fetch_data</a>* <a class="el" href="sync__diff_8c.html#a06ceecb0e3976283d223d8c250cc9ff3">remNodeFetch</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsync__diff__data.html">sync_diff_data</a> *&#160;</td>
          <td class="paramname"><em>sdd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="struct_sync_hash_cache_entry.html">SyncHashCacheEntry</a> *&#160;</td>
          <td class="paramname"><em>ce</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sync__diff_8c_source.html#l00105">105</a> of file <a class="el" href="sync__diff_8c_source.html">sync_diff.c</a>.</p>

<p>Referenced by <a class="el" href="sync__diff_8c_source.html#l00375">start_node_fetch()</a>, and <a class="el" href="sync__diff_8c_source.html#l01551">sync_diff_note_node()</a>.</p>

</div>
</div>
<a class="anchor" id="a8d52b9e0db366a10c79a3014f2319d75"></a><!-- doxytag: member="sync_diff.c::resetDiffData" ref="a8d52b9e0db366a10c79a3014f2319d75" args="(struct sync_diff_data *sdd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void <a class="el" href="sync__diff_8c.html#a8d52b9e0db366a10c79a3014f2319d75">resetDiffData</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsync__diff__data.html">sync_diff_data</a> *&#160;</td>
          <td class="paramname"><em>sdd</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sync__diff_8c_source.html#l00175">175</a> of file <a class="el" href="sync__diff_8c_source.html">sync_diff.c</a>.</p>

<p>Referenced by <a class="el" href="sync__diff_8c_source.html#l00215">abortCompare()</a>, <a class="el" href="sync__diff_8c_source.html#l00829">compareAction()</a>, <a class="el" href="sync__diff_8c_source.html#l01519">sync_diff_start()</a>, and <a class="el" href="sync__diff_8c_source.html#l01609">sync_diff_stop()</a>.</p>

</div>
</div>
<a class="anchor" id="ab9656b13bde807ac27980d88fa49f026"></a><!-- doxytag: member="sync_diff.c::resetUpdateData" ref="ab9656b13bde807ac27980d88fa49f026" args="(struct sync_update_data *ud)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void <a class="el" href="sync__diff_8c.html#ab9656b13bde807ac27980d88fa49f026">resetUpdateData</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsync__update__data.html">sync_update_data</a> *&#160;</td>
          <td class="paramname"><em>ud</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sync__diff_8c_source.html#l00198">198</a> of file <a class="el" href="sync__diff_8c_source.html">sync_diff.c</a>.</p>

<p>Referenced by <a class="el" href="sync__diff_8c_source.html#l01623">sync_update_start()</a>, and <a class="el" href="sync__diff_8c_source.html#l01665">sync_update_stop()</a>.</p>

</div>
</div>
<a class="anchor" id="a8d981d346c90e43d3f8d9e52077e28ca"></a><!-- doxytag: member="sync_diff.c::setCovered" ref="a8d981d346c90e43d3f8d9e52077e28ca" args="(struct SyncHashCacheEntry *ce)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void <a class="el" href="_sync_actions_8c.html#a8d981d346c90e43d3f8d9e52077e28ca">setCovered</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_sync_hash_cache_entry.html">SyncHashCacheEntry</a> *&#160;</td>
          <td class="paramname"><em>ce</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sync__diff_8c_source.html#l00046">46</a> of file <a class="el" href="sync__diff_8c_source.html">sync_diff.c</a>.</p>

<p>Referenced by <a class="el" href="sync__diff_8c_source.html#l00575">doComparison()</a>, <a class="el" href="sync__diff_8c_source.html#l00056">isCovered()</a>, and <a class="el" href="sync__diff_8c_source.html#l00955">newNodeCommon()</a>.</p>

</div>
</div>
<a class="anchor" id="a677c4508262ab00cdea51b16065eac17"></a><!-- doxytag: member="sync_diff.c::showCacheEntry1" ref="a677c4508262ab00cdea51b16065eac17" args="(struct SyncRootStruct *root, char *here, char *msg, struct SyncHashCacheEntry *ce)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void <a class="el" href="_sync_actions_8c.html#a677c4508262ab00cdea51b16065eac17">showCacheEntry1</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_sync_root_struct.html">SyncRootStruct</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>here</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="struct_sync_hash_cache_entry.html">SyncHashCacheEntry</a> *&#160;</td>
          <td class="paramname"><em>ce</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sync__diff_8c_source.html#l00135">135</a> of file <a class="el" href="sync__diff_8c_source.html">sync_diff.c</a>.</p>

<p>Referenced by <a class="el" href="sync__diff_8c_source.html#l01375">updateAction()</a>.</p>

</div>
</div>
<a class="anchor" id="a693571491e7f8b307640238175b6aa57"></a><!-- doxytag: member="sync_diff.c::showCacheEntry2" ref="a693571491e7f8b307640238175b6aa57" args="(struct SyncRootStruct *root, char *here, char *msg, struct SyncHashCacheEntry *ce1, struct SyncHashCacheEntry *ce2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void <a class="el" href="_sync_actions_8c.html#a693571491e7f8b307640238175b6aa57">showCacheEntry2</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_sync_root_struct.html">SyncRootStruct</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>here</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="struct_sync_hash_cache_entry.html">SyncHashCacheEntry</a> *&#160;</td>
          <td class="paramname"><em>ce1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="struct_sync_hash_cache_entry.html">SyncHashCacheEntry</a> *&#160;</td>
          <td class="paramname"><em>ce2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sync__diff_8c_source.html#l00143">143</a> of file <a class="el" href="sync__diff_8c_source.html">sync_diff.c</a>.</p>

<p>Referenced by <a class="el" href="sync__diff_8c_source.html#l00829">compareAction()</a>, and <a class="el" href="sync__diff_8c_source.html#l01375">updateAction()</a>.</p>

</div>
</div>
<a class="anchor" id="ae7e18f957924a160ff1b68a328aadf85"></a><!-- doxytag: member="sync_diff.c::start_node_fetch" ref="ae7e18f957924a160ff1b68a328aadf85" args="(struct sync_diff_data *sdd, struct SyncHashCacheEntry *ce, enum sync_diff_side side)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int <a class="el" href="sync__diff_8c.html#ae7e18f957924a160ff1b68a328aadf85">start_node_fetch</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsync__diff__data.html">sync_diff_data</a> *&#160;</td>
          <td class="paramname"><em>sdd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="struct_sync_hash_cache_entry.html">SyncHashCacheEntry</a> *&#160;</td>
          <td class="paramname"><em>ce</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="sync__diff_8h.html#a6e15e35d7afe80f23fa4bda464bc86bf">sync_diff_side</a>&#160;</td>
          <td class="paramname"><em>side</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sync__diff_8c_source.html#l00375">375</a> of file <a class="el" href="sync__diff_8c_source.html">sync_diff.c</a>.</p>

<p>Referenced by <a class="el" href="sync__diff_8c_source.html#l00575">doComparison()</a>, and <a class="el" href="sync__diff_8c_source.html#l00451">doPreload()</a>.</p>

</div>
</div>
<a class="anchor" id="ac2dcc6edc4b46bbc8514086b8dc263de"></a><!-- doxytag: member="sync_diff.c::sync_diff_note_node" ref="ac2dcc6edc4b46bbc8514086b8dc263de" args="(struct sync_diff_data *sdd, struct SyncHashCacheEntry *ce)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="sync__diff_8h.html#ac2dcc6edc4b46bbc8514086b8dc263de">sync_diff_note_node</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsync__diff__data.html">sync_diff_data</a> *&#160;</td>
          <td class="paramname"><em>sdd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="struct_sync_hash_cache_entry.html">SyncHashCacheEntry</a> *&#160;</td>
          <td class="paramname"><em>ce</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>sync_diff_note_node is used to establish the result of the client closure sdd-&gt;get, and restarts the comparison. </p>
<p>When the client closure sdd-&gt;get is called it should initiate the fetch or construction of a sync tree node. Depending on characteristics of the client the sync tree node should be stored into either ce-&gt;ncL or ce-&gt;ncR, and sync_diff_note_node should be called. The flags in ce will be updated by sync_diff_note_node. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>&lt; 0 for failure, no fetch queued for ce. </dd>
<dd>
0 for no action, ce == NULL || ce has no node. </dd>
<dd>
&gt; 0 for success, fetch was queued and ce has a node. </dd></dl>

<p>Definition at line <a class="el" href="sync__diff_8c_source.html#l01551">1551</a> of file <a class="el" href="sync__diff_8c_source.html">sync_diff.c</a>.</p>

<p>Referenced by <a class="el" href="sync__api_8c_source.html#l00755">my_response()</a>.</p>

</div>
</div>
<a class="anchor" id="a86612ec768575d85f0d28d310bc71cf9"></a><!-- doxytag: member="sync_diff.c::sync_diff_start" ref="a86612ec768575d85f0d28d310bc71cf9" args="(struct sync_diff_data *sdd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="sync__diff_8h.html#a86612ec768575d85f0d28d310bc71cf9">sync_diff_start</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsync__diff__data.html">sync_diff_data</a> *&#160;</td>
          <td class="paramname"><em>sdd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>sync_diff_start starts a differencing operation between two sync trees, specified by sdd-&gt;hashX and sdd-&gt;hashY for the collection in sdd-&gt;root. </p>
<p>If sdd-&gt;hashX is not empty then there must be a valid cache entry for it. If sdd-&gt;hashY is not empty then there must be a valid cache entry for it. The root (in sdd-&gt;root) must be valid, and have a valid base and scheduler. The client always owns the storage for sdd.</p>
<p>The closure sdd-&gt;get is called when a sync tree node is needed to continue the comparison, giving the name of the node (which has the hash as the last component). When the node has been fetched, the client should call sync_diff_note_node, which will continue the comparison.</p>
<p>The closure sdd-&gt;add is called once for each name that is covered by hashY but not by hashX. When there are no more additions then it is called once with name == NULL. The sdd-&gt;add closure is called with a name that may not be valid after the call completes, so the client must copy the name if it needs to persist.</p>
<p>Hint: If sdd-&gt;hashX is the empty hash (NULL or length == 0), then the differencing operation is simply an enumeration operation.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>&lt; 0 for failure, 0 if no difference running, &gt; 0 for success. </dd></dl>

<p>Definition at line <a class="el" href="sync__diff_8c_source.html#l01519">1519</a> of file <a class="el" href="sync__diff_8c_source.html">sync_diff.c</a>.</p>

<p>Referenced by <a class="el" href="sync__api_8c_source.html#l00668">each_round()</a>.</p>

</div>
</div>
<a class="anchor" id="a1be9171a2f9c634b8562511688f16222"></a><!-- doxytag: member="sync_diff.c::sync_diff_stop" ref="a1be9171a2f9c634b8562511688f16222" args="(struct sync_diff_data *sdd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="sync__diff_8h.html#a1be9171a2f9c634b8562511688f16222">sync_diff_stop</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsync__diff__data.html">sync_diff_data</a> *&#160;</td>
          <td class="paramname"><em>sdd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>sync_diff_stop will stop the differencing operation if it has not completed. </p>
<p>A call to sdd-&gt;add will NOT take place from within this call. Internal resources are released. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>&lt; 0 for failure, 0 if already stopped, &gt; 0 for success. </dd></dl>

<p>Definition at line <a class="el" href="sync__diff_8c_source.html#l01609">1609</a> of file <a class="el" href="sync__diff_8c_source.html">sync_diff.c</a>.</p>

<p>Referenced by <a class="el" href="sync__api_8c_source.html#l01202">ccns_close()</a>.</p>

</div>
</div>
<a class="anchor" id="a3bb272eae464ab13b38049b71d84f3d1"></a><!-- doxytag: member="sync_diff.c::sync_update_start" ref="a3bb272eae464ab13b38049b71d84f3d1" args="(struct sync_update_data *ud, struct SyncNameAccum *acc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="sync__diff_8h.html#a3bb272eae464ab13b38049b71d84f3d1">sync_update_start</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsync__update__data.html">sync_update_data</a> *&#160;</td>
          <td class="paramname"><em>ud</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="struct_sync_name_accum.html">SyncNameAccum</a> *&#160;</td>
          <td class="paramname"><em>acc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>sync_update_start is called to start an update of ud-&gt;ceStart, based on the names added via acc, to result in a tree with root hash stored in ud-&gt;ceStop. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>&lt; 0 for failure, 0 if update already running, &gt; 0 for success. </dd></dl>

<p>Definition at line <a class="el" href="sync__diff_8c_source.html#l01623">1623</a> of file <a class="el" href="sync__diff_8c_source.html">sync_diff.c</a>.</p>

<p>Referenced by <a class="el" href="sync__api_8c_source.html#l00668">each_round()</a>.</p>

</div>
</div>
<a class="anchor" id="a79c577f4db986229fa0768e32782d3c3"></a><!-- doxytag: member="sync_diff.c::sync_update_stop" ref="a79c577f4db986229fa0768e32782d3c3" args="(struct sync_update_data *ud)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="sync__diff_8h.html#a79c577f4db986229fa0768e32782d3c3">sync_update_stop</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsync__update__data.html">sync_update_data</a> *&#160;</td>
          <td class="paramname"><em>ud</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>sync_update_stop can be called to stop the update operation. </p>
<p>Internal resources are released. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>&lt; 0 for failure, 0 if no update running, &gt; 0 for success. </dd></dl>

<p>Definition at line <a class="el" href="sync__diff_8c_source.html#l01665">1665</a> of file <a class="el" href="sync__diff_8c_source.html">sync_diff.c</a>.</p>

<p>Referenced by <a class="el" href="sync__api_8c_source.html#l01202">ccns_close()</a>.</p>

</div>
</div>
<a class="anchor" id="a1132ffd0441e72a582b434b9242da15c"></a><!-- doxytag: member="sync_diff.c::try_node_split" ref="a1132ffd0441e72a582b434b9242da15c" args="(struct sync_update_data *ud)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int <a class="el" href="sync__diff_8c.html#a1132ffd0441e72a582b434b9242da15c">try_node_split</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsync__update__data.html">sync_update_data</a> *&#160;</td>
          <td class="paramname"><em>ud</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sync__diff_8c_source.html#l01154">1154</a> of file <a class="el" href="sync__diff_8c_source.html">sync_diff.c</a>.</p>

<p>Referenced by <a class="el" href="sync__diff_8c_source.html#l01232">add_update_name()</a>.</p>

</div>
</div>
<a class="anchor" id="ad7dd34a571d7610744d405d6d20f5e8d"></a><!-- doxytag: member="sync_diff.c::updateAction" ref="ad7dd34a571d7610744d405d6d20f5e8d" args="(struct ccn_schedule *sched, void *clienth, struct ccn_scheduled_event *ev, int flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int <a class="el" href="sync__diff_8c.html#ad7dd34a571d7610744d405d6d20f5e8d">updateAction</a> </td>
          <td>(</td>
          <td class="paramtype">struct ccn_schedule *&#160;</td>
          <td class="paramname"><em>sched</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>clienth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structccn__scheduled__event.html">ccn_scheduled_event</a> *&#160;</td>
          <td class="paramname"><em>ev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sync__diff_8c_source.html#l01375">1375</a> of file <a class="el" href="sync__diff_8c_source.html">sync_diff.c</a>.</p>

<p>Referenced by <a class="el" href="sync__diff_8c_source.html#l00323">kickUpdate()</a>.</p>

</div>
</div>
<a class="anchor" id="adb2f80f09746c793e14ffb9fbda81a3b"></a><!-- doxytag: member="sync_diff.c::updateError" ref="adb2f80f09746c793e14ffb9fbda81a3b" args="(struct sync_update_data *ud)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int <a class="el" href="sync__diff_8c.html#adb2f80f09746c793e14ffb9fbda81a3b">updateError</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsync__update__data.html">sync_update_data</a> *&#160;</td>
          <td class="paramname"><em>ud</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sync__diff_8c_source.html#l01362">1362</a> of file <a class="el" href="sync__diff_8c_source.html">sync_diff.c</a>.</p>

<p>Referenced by <a class="el" href="sync__diff_8c_source.html#l01375">updateAction()</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a81327fc9c584dac59986ec3725d2cd77"></a><!-- doxytag: member="sync_diff.c::hashSplitTrigger" ref="a81327fc9c584dac59986ec3725d2cd77" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="_sync_actions_8c.html#a81327fc9c584dac59986ec3725d2cd77">hashSplitTrigger</a> = 17<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sync__diff_8c_source.html#l00040">40</a> of file <a class="el" href="sync__diff_8c_source.html">sync_diff.c</a>.</p>

<p>Referenced by <a class="el" href="sync__diff_8c_source.html#l01154">try_node_split()</a>.</p>

</div>
</div>
<a class="anchor" id="ad6ea5755329f76c1602ad6ba25a27daf"></a><!-- doxytag: member="sync_diff.c::namesYieldInc" ref="ad6ea5755329f76c1602ad6ba25a27daf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="_sync_actions_8c.html#ad6ea5755329f76c1602ad6ba25a27daf">namesYieldInc</a> = 100<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sync__diff_8c_source.html#l00042">42</a> of file <a class="el" href="sync__diff_8c_source.html">sync_diff.c</a>.</p>

<p>Referenced by <a class="el" href="sync__diff_8c_source.html#l01258">merge_names()</a>.</p>

</div>
</div>
<a class="anchor" id="a01f91d5802d6020d15662f4afea91e9f"></a><!-- doxytag: member="sync_diff.c::namesYieldMicros" ref="a01f91d5802d6020d15662f4afea91e9f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="_sync_actions_8c.html#a01f91d5802d6020d15662f4afea91e9f">namesYieldMicros</a> = 20*1000<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sync__diff_8c_source.html#l00043">43</a> of file <a class="el" href="sync__diff_8c_source.html">sync_diff.c</a>.</p>

<p>Referenced by <a class="el" href="sync__diff_8c_source.html#l01258">merge_names()</a>.</p>

</div>
</div>
<a class="anchor" id="ad6e384ed8d6687203b96177c4425df08"></a><!-- doxytag: member="sync_diff.c::nodeSplitTrigger" ref="ad6e384ed8d6687203b96177c4425df08" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="_sync_actions_8c.html#ad6e384ed8d6687203b96177c4425df08">nodeSplitTrigger</a> = 4000<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sync__diff_8c_source.html#l00039">39</a> of file <a class="el" href="sync__diff_8c_source.html">sync_diff.c</a>.</p>

<p>Referenced by <a class="el" href="sync__diff_8c_source.html#l01232">add_update_name()</a>, <a class="el" href="sync__diff_8c_source.html#l00955">newNodeCommon()</a>, <a class="el" href="sync__diff_8c_source.html#l01020">node_from_nodes()</a>, and <a class="el" href="sync__diff_8c_source.html#l01154">try_node_split()</a>.</p>

</div>
</div>
<a class="anchor" id="a259cad241b04e57ac063e149d3fb511e"></a><!-- doxytag: member="sync_diff.c::shortDelayMicros" ref="a259cad241b04e57ac063e149d3fb511e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="_sync_actions_8c.html#a259cad241b04e57ac063e149d3fb511e">shortDelayMicros</a> = 1000<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sync__diff_8c_source.html#l00041">41</a> of file <a class="el" href="sync__diff_8c_source.html">sync_diff.c</a>.</p>

<p>Referenced by <a class="el" href="sync__diff_8c_source.html#l01375">updateAction()</a>.</p>

</div>
</div>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Tue Apr 1 2014 10:50:57 for Content-Centric Networking in C by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
