<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Content-Centric Networking in C: ccnr/ccnr_proto.c File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Content-Centric Networking in C
   &#160;<span id="projectnumber">0.8.2</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="dir_0ce4a9cd40fe79236e51231e73ad543d.html">ccnr</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">ccnr_proto.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Part of ccnr - CCNx Repository Daemon.  
<a href="#details">More...</a></p>

<p><a href="ccnr__proto_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__proto_8c.html#a5c5ac86d3f39a8829512117348e9a0fc">CCNR_MAX_RETRY</a>&#160;&#160;&#160;5</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__proto_8c.html#ab8447991c4b9e95c2aa118c84f83d168">ENUMERATION_STATE_TICK_MICROSEC</a>&#160;&#160;&#160;1000000</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="ccn_8h.html#ac4cc3fdb432fd23cdc0c5642276b0ddc">ccn_upcall_res</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__proto_8c.html#a09cb147151d02fa0624317f58188fd10">r_proto_start_write</a> (struct <a class="el" href="structccn__closure.html">ccn_closure</a> *selfp, enum <a class="el" href="ccn_8h.html#a5fcebad21626ea80c67775c092011c92">ccn_upcall_kind</a> kind, struct <a class="el" href="structccn__upcall__info.html">ccn_upcall_info</a> *info, int marker_comp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="ccn_8h.html#ac4cc3fdb432fd23cdc0c5642276b0ddc">ccn_upcall_res</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__proto_8c.html#a430cf7f7832e08280285d33c6f393cb9">r_proto_start_write_checked</a> (struct <a class="el" href="structccn__closure.html">ccn_closure</a> *selfp, enum <a class="el" href="ccn_8h.html#a5fcebad21626ea80c67775c092011c92">ccn_upcall_kind</a> kind, struct <a class="el" href="structccn__upcall__info.html">ccn_upcall_info</a> *info, int marker_comp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="ccn_8h.html#ac4cc3fdb432fd23cdc0c5642276b0ddc">ccn_upcall_res</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__proto_8c.html#a8131ce5b8fa912cef71a628be6aab86b">r_proto_begin_enumeration</a> (struct <a class="el" href="structccn__closure.html">ccn_closure</a> *selfp, enum <a class="el" href="ccn_8h.html#a5fcebad21626ea80c67775c092011c92">ccn_upcall_kind</a> kind, struct <a class="el" href="structccn__upcall__info.html">ccn_upcall_info</a> *info, int marker_comp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="ccn_8h.html#ac4cc3fdb432fd23cdc0c5642276b0ddc">ccn_upcall_res</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__proto_8c.html#a3cfb05cf8d7caa123adabe59f4cab40c">r_proto_continue_enumeration</a> (struct <a class="el" href="structccn__closure.html">ccn_closure</a> *selfp, enum <a class="el" href="ccn_8h.html#a5fcebad21626ea80c67775c092011c92">ccn_upcall_kind</a> kind, struct <a class="el" href="structccn__upcall__info.html">ccn_upcall_info</a> *info, int marker_comp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="ccn_8h.html#ac4cc3fdb432fd23cdc0c5642276b0ddc">ccn_upcall_res</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__proto_8c.html#a563189db2b1adcbad622696782ac0440">r_proto_bulk_import</a> (struct <a class="el" href="structccn__closure.html">ccn_closure</a> *selfp, enum <a class="el" href="ccn_8h.html#a5fcebad21626ea80c67775c092011c92">ccn_upcall_kind</a> kind, struct <a class="el" href="structccn__upcall__info.html">ccn_upcall_info</a> *info, int marker_comp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__proto_8c.html#a70fd987b1e084846de60266cd3c017c3">name_comp_equal_prefix</a> (const unsigned char *data, const struct <a class="el" href="structccn__indexbuf.html">ccn_indexbuf</a> *indexbuf, unsigned int i, const void *buf, size_t length)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Compare a name component at index i to bytes in buf and return 1 if they are equal in the first length bytes.  <a href="#a70fd987b1e084846de60266cd3c017c3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="ccnr__private_8h.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> enum <a class="el" href="ccn_8h.html#ac4cc3fdb432fd23cdc0c5642276b0ddc">ccn_upcall_res</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__proto_8c.html#ad2a5c89c02c02862fa60865cfd1b218e">r_proto_answer_req</a> (struct <a class="el" href="structccn__closure.html">ccn_closure</a> *selfp, enum <a class="el" href="ccn_8h.html#a5fcebad21626ea80c67775c092011c92">ccn_upcall_kind</a> kind, struct <a class="el" href="structccn__upcall__info.html">ccn_upcall_info</a> *info)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="ccnr__private_8h.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__proto_8c.html#aee367dfd2b8af67d21bcc3ece4db5b06">r_proto_uri_listen</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *ccnr, struct ccn *ccn, const char *uri, <a class="el" href="ccn_8h.html#a3ade7f73d8960d3f145c97efe0332c9e">ccn_handler</a> p, intptr_t intdata)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="ccnr__private_8h.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__proto_8c.html#abef394d94d4306260f1355204eadfb12">r_proto_init</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *ccnr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="ccnr__private_8h.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__proto_8c.html#a10e1f366d8ac499821f7dd09b777e9d0">r_proto_activate_policy</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *ccnr, struct <a class="el" href="structccnr__parsed__policy.html">ccnr_parsed_policy</a> *pp)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Install the listener for the namespaces that the parsed policy says to serve.  <a href="#a10e1f366d8ac499821f7dd09b777e9d0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="ccnr__private_8h.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__proto_8c.html#a85c77667b1ec23d0940fdc72ae10c377">r_proto_deactivate_policy</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *ccnr, struct <a class="el" href="structccnr__parsed__policy.html">ccnr_parsed_policy</a> *pp)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Uninstall the listener for the namespaces that the parsed policy says to serve.  <a href="#a85c77667b1ec23d0940fdc72ae10c377"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="ccnr__private_8h.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__proto_8c.html#a9b4a35b4d6f63e221a2238c2024ef911">r_proto_append_repo_info</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *ccnr, struct <a class="el" href="structccn__charbuf.html">ccn_charbuf</a> *rinfo, struct <a class="el" href="structccn__charbuf.html">ccn_charbuf</a> *names, const char *info)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a charbuf with an encoding of a RepositoryInfo.  <a href="#a9b4a35b4d6f63e221a2238c2024ef911"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structccn__charbuf.html">ccn_charbuf</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__proto_8c.html#a08f977612f42a2d4bf2436cf3bc4ff44">r_proto_mktemplate</a> (struct <a class="el" href="structccnr__expect__content.html">ccnr_expect_content</a> *md, struct <a class="el" href="structccn__upcall__info.html">ccn_upcall_info</a> *info, int maxsuffix)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="ccnr__private_8h.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> enum <a class="el" href="ccn_8h.html#ac4cc3fdb432fd23cdc0c5642276b0ddc">ccn_upcall_res</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__proto_8c.html#a7022342c3a0054757ce160533385ee77">r_proto_expect_content</a> (struct <a class="el" href="structccn__closure.html">ccn_closure</a> *selfp, enum <a class="el" href="ccn_8h.html#a5fcebad21626ea80c67775c092011c92">ccn_upcall_kind</a> kind, struct <a class="el" href="structccn__upcall__info.html">ccn_upcall_info</a> *info)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__proto_8c.html#af2f1b5ff7ab1d71cf7f773d1e7ed8325">r_proto_policy_update</a> (struct ccn_schedule *sched, void *clienth, struct <a class="el" href="structccn__scheduled__event.html">ccn_scheduled_event</a> *ev, int flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="ccn_8h.html#ac4cc3fdb432fd23cdc0c5642276b0ddc">ccn_upcall_res</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__proto_8c.html#ad81888c51edfc8284ca8d402bf365b75">r_proto_policy_complete</a> (struct <a class="el" href="structccn__closure.html">ccn_closure</a> *selfp, enum <a class="el" href="ccn_8h.html#a5fcebad21626ea80c67775c092011c92">ccn_upcall_kind</a> kind, struct <a class="el" href="structccn__upcall__info.html">ccn_upcall_info</a> *info)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__proto_8c.html#aca9fa508dbede1f006cfd42bbf0f902a">r_proto_check_exclude</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *ccnr, struct <a class="el" href="structccn__upcall__info.html">ccn_upcall_info</a> *info, struct <a class="el" href="structccn__charbuf.html">ccn_charbuf</a> *name)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns 1 if the Exclude in the interest described by the info parameter would exclude the full name in name.  <a href="#aca9fa508dbede1f006cfd42bbf0f902a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__proto_8c.html#a839f36da4f87d560b0cd5e7c21e7c83b">r_proto_finalize_enum_state</a> (struct <a class="el" href="structhashtb__enumerator.html">hashtb_enumerator</a> *e)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__proto_8c.html#a9cc88e81a710eadbd5dd6399962354e4">reap_enumerations</a> (struct ccn_schedule *sched, void *clienth, struct <a class="el" href="structccn__scheduled__event.html">ccn_scheduled_event</a> *ev, int flags)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove expired enumeration table entries.  <a href="#a9cc88e81a710eadbd5dd6399962354e4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__proto_8c.html#a1e1ba0c455da37d01178bb2345ff3d44">reap_enumerations_needed</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *ccnr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__proto_8c.html#aae05c0877f3d803804ee2703f6c6f727">r_proto_dump_enums</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *ccnr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="ccnr__private_8h.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__proto_8c.html#a03f6adb892890e069ed2de424f5f7471">r_proto_policy_append_basic</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *ccnr, struct <a class="el" href="structccn__charbuf.html">ccn_charbuf</a> *policy, const char *version, const char *local_name, const char *global_prefix)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="ccnr__private_8h.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__proto_8c.html#a04232b8c4b837b754c62910e924d9aaa">r_proto_policy_append_namespace</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *ccnr, struct <a class="el" href="structccn__charbuf.html">ccn_charbuf</a> *policy, const char *namespace)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="ccnr__private_8h.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__proto_8c.html#a1fd5a3888c075ae928fe02b60bba3a29">r_proto_parse_policy</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *ccnr, const unsigned char *buf, size_t length, struct <a class="el" href="structccnr__parsed__policy.html">ccnr_parsed_policy</a> *pp)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse a ccnb-encoded policy content object and fill in a ccn_parsed_policy structure as the result.  <a href="#a1fd5a3888c075ae928fe02b60bba3a29"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnr__proto_8c.html#a22346544e87a567a668c08a4f722fe21">r_proto_initiate_key_fetch</a> (struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *ccnr, const unsigned char *msg, struct <a class="el" href="structccn__parsed___content_object.html">ccn_parsed_ContentObject</a> *pco, int use_link, <a class="el" href="ccnr__private_8h.html#aa218fe1bf4c4e7deaa9f150cf7435593">ccnr_cookie</a> a)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiate a key fetch if necessary.  <a href="#a22346544e87a567a668c08a4f722fe21"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Part of ccnr - CCNx Repository Daemon. </p>

<p>Definition in file <a class="el" href="ccnr__proto_8c_source.html">ccnr_proto.c</a>.</p>
</div><hr/><h2>Define Documentation</h2>
<a class="anchor" id="a5c5ac86d3f39a8829512117348e9a0fc"></a><!-- doxytag: member="ccnr_proto.c::CCNR_MAX_RETRY" ref="a5c5ac86d3f39a8829512117348e9a0fc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="ccnr__proto_8c.html#a5c5ac86d3f39a8829512117348e9a0fc">CCNR_MAX_RETRY</a>&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__proto_8c_source.html#l00056">56</a> of file <a class="el" href="ccnr__proto_8c_source.html">ccnr_proto.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__proto_8c_source.html#l00340">r_proto_expect_content()</a>.</p>

</div>
</div>
<a class="anchor" id="ab8447991c4b9e95c2aa118c84f83d168"></a><!-- doxytag: member="ccnr_proto.c::ENUMERATION_STATE_TICK_MICROSEC" ref="ab8447991c4b9e95c2aa118c84f83d168" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="ccnr__proto_8c.html#ab8447991c4b9e95c2aa118c84f83d168">ENUMERATION_STATE_TICK_MICROSEC</a>&#160;&#160;&#160;1000000</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__proto_8c_source.html#l00957">957</a> of file <a class="el" href="ccnr__proto_8c_source.html">ccnr_proto.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__proto_8c_source.html#l00962">reap_enumerations()</a>, and <a class="el" href="ccnr__proto_8c_source.html#l00996">reap_enumerations_needed()</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a70fd987b1e084846de60266cd3c017c3"></a><!-- doxytag: member="ccnr_proto.c::name_comp_equal_prefix" ref="a70fd987b1e084846de60266cd3c017c3" args="(const unsigned char *data, const struct ccn_indexbuf *indexbuf, unsigned int i, const void *buf, size_t length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int <a class="el" href="ccnr__proto_8c.html#a70fd987b1e084846de60266cd3c017c3">name_comp_equal_prefix</a> </td>
          <td>(</td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structccn__indexbuf.html">ccn_indexbuf</a> *&#160;</td>
          <td class="paramname"><em>indexbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Compare a name component at index i to bytes in buf and return 1 if they are equal in the first length bytes. </p>
<p>The name component must contain at least length bytes for this comparison to return equality. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>1 for equality, 0 for inequality. </dd></dl>

<p>Definition at line <a class="el" href="ccnr__proto_8c_source.html#l00206">206</a> of file <a class="el" href="ccnr__proto_8c_source.html">ccnr_proto.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__proto_8c_source.html#l00093">r_proto_answer_req()</a>.</p>

</div>
</div>
<a class="anchor" id="a10e1f366d8ac499821f7dd09b777e9d0"></a><!-- doxytag: member="ccnr_proto.c::r_proto_activate_policy" ref="a10e1f366d8ac499821f7dd09b777e9d0" args="(struct ccnr_handle *ccnr, struct ccnr_parsed_policy *pp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ccnr__private_8h.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void <a class="el" href="ccnr__proto_8h.html#ac15111c71400e7bce8bc3e0dfbee229a">r_proto_activate_policy</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&#160;</td>
          <td class="paramname"><em>ccnr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structccnr__parsed__policy.html">ccnr_parsed_policy</a> *&#160;</td>
          <td class="paramname"><em>pp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Install the listener for the namespaces that the parsed policy says to serve. </p>
<p>Normal usage is to deactivate the old policy and then activate the new one </p>

<p>Definition at line <a class="el" href="ccnr__proto_8c_source.html#l00250">250</a> of file <a class="el" href="ccnr__proto_8c_source.html">ccnr_proto.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__init_8c_source.html#l00468">r_init_create()</a>, and <a class="el" href="ccnr__proto_8c_source.html#l00483">r_proto_policy_update()</a>.</p>

</div>
</div>
<a class="anchor" id="ad2a5c89c02c02862fa60865cfd1b218e"></a><!-- doxytag: member="ccnr_proto.c::r_proto_answer_req" ref="ad2a5c89c02c02862fa60865cfd1b218e" args="(struct ccn_closure *selfp, enum ccn_upcall_kind kind, struct ccn_upcall_info *info)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ccnr__private_8h.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> enum <a class="el" href="ccn_8h.html#ac4cc3fdb432fd23cdc0c5642276b0ddc">ccn_upcall_res</a> <a class="el" href="ccnr__proto_8c.html#ad2a5c89c02c02862fa60865cfd1b218e">r_proto_answer_req</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccn__closure.html">ccn_closure</a> *&#160;</td>
          <td class="paramname"><em>selfp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="ccn_8h.html#a5fcebad21626ea80c67775c092011c92">ccn_upcall_kind</a>&#160;</td>
          <td class="paramname"><em>kind</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structccn__upcall__info.html">ccn_upcall_info</a> *&#160;</td>
          <td class="paramname"><em>info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__proto_8c_source.html#l00093">93</a> of file <a class="el" href="ccnr__proto_8c_source.html">ccnr_proto.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__proto_8c_source.html#l00250">r_proto_activate_policy()</a>.</p>

</div>
</div>
<a class="anchor" id="a9b4a35b4d6f63e221a2238c2024ef911"></a><!-- doxytag: member="ccnr_proto.c::r_proto_append_repo_info" ref="a9b4a35b4d6f63e221a2238c2024ef911" args="(struct ccnr_handle *ccnr, struct ccn_charbuf *rinfo, struct ccn_charbuf *names, const char *info)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ccnr__private_8h.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> int <a class="el" href="ccnr__proto_8h.html#ab77294f0d164080bc383c2f80a290a1a">r_proto_append_repo_info</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&#160;</td>
          <td class="paramname"><em>ccnr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structccn__charbuf.html">ccn_charbuf</a> *&#160;</td>
          <td class="paramname"><em>rinfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structccn__charbuf.html">ccn_charbuf</a> *&#160;</td>
          <td class="paramname"><em>names</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Construct a charbuf with an encoding of a RepositoryInfo. </p>

<p>Definition at line <a class="el" href="ccnr__proto_8c_source.html#l00297">297</a> of file <a class="el" href="ccnr__proto_8c_source.html">ccnr_proto.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__proto_8c_source.html#l01342">r_proto_bulk_import()</a>, <a class="el" href="ccnr__proto_8c_source.html#l00643">r_proto_start_write()</a>, and <a class="el" href="ccnr__proto_8c_source.html#l00779">r_proto_start_write_checked()</a>.</p>

</div>
</div>
<a class="anchor" id="a8131ce5b8fa912cef71a628be6aab86b"></a><!-- doxytag: member="ccnr_proto.c::r_proto_begin_enumeration" ref="a8131ce5b8fa912cef71a628be6aab86b" args="(struct ccn_closure *selfp, enum ccn_upcall_kind kind, struct ccn_upcall_info *info, int marker_comp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="ccn_8h.html#ac4cc3fdb432fd23cdc0c5642276b0ddc">ccn_upcall_res</a> <a class="el" href="ccnr__proto_8c.html#a8131ce5b8fa912cef71a628be6aab86b">r_proto_begin_enumeration</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccn__closure.html">ccn_closure</a> *&#160;</td>
          <td class="paramname"><em>selfp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="ccn_8h.html#a5fcebad21626ea80c67775c092011c92">ccn_upcall_kind</a>&#160;</td>
          <td class="paramname"><em>kind</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structccn__upcall__info.html">ccn_upcall_info</a> *&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>marker_comp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__proto_8c_source.html#l01006">1006</a> of file <a class="el" href="ccnr__proto_8c_source.html">ccnr_proto.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__proto_8c_source.html#l00093">r_proto_answer_req()</a>.</p>

</div>
</div>
<a class="anchor" id="a563189db2b1adcbad622696782ac0440"></a><!-- doxytag: member="ccnr_proto.c::r_proto_bulk_import" ref="a563189db2b1adcbad622696782ac0440" args="(struct ccn_closure *selfp, enum ccn_upcall_kind kind, struct ccn_upcall_info *info, int marker_comp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="ccn_8h.html#ac4cc3fdb432fd23cdc0c5642276b0ddc">ccn_upcall_res</a> <a class="el" href="ccnr__proto_8c.html#a563189db2b1adcbad622696782ac0440">r_proto_bulk_import</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccn__closure.html">ccn_closure</a> *&#160;</td>
          <td class="paramname"><em>selfp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="ccn_8h.html#a5fcebad21626ea80c67775c092011c92">ccn_upcall_kind</a>&#160;</td>
          <td class="paramname"><em>kind</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structccn__upcall__info.html">ccn_upcall_info</a> *&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>marker_comp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__proto_8c_source.html#l01342">1342</a> of file <a class="el" href="ccnr__proto_8c_source.html">ccnr_proto.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__proto_8c_source.html#l00093">r_proto_answer_req()</a>.</p>

</div>
</div>
<a class="anchor" id="aca9fa508dbede1f006cfd42bbf0f902a"></a><!-- doxytag: member="ccnr_proto.c::r_proto_check_exclude" ref="aca9fa508dbede1f006cfd42bbf0f902a" args="(struct ccnr_handle *ccnr, struct ccn_upcall_info *info, struct ccn_charbuf *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int <a class="el" href="ccnr__proto_8c.html#aca9fa508dbede1f006cfd42bbf0f902a">r_proto_check_exclude</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&#160;</td>
          <td class="paramname"><em>ccnr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structccn__upcall__info.html">ccn_upcall_info</a> *&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structccn__charbuf.html">ccn_charbuf</a> *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns 1 if the Exclude in the interest described by the info parameter would exclude the full name in name. </p>

<p>Definition at line <a class="el" href="ccnr__proto_8c_source.html#l00880">880</a> of file <a class="el" href="ccnr__proto_8c_source.html">ccnr_proto.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__proto_8c_source.html#l01006">r_proto_begin_enumeration()</a>.</p>

</div>
</div>
<a class="anchor" id="a3cfb05cf8d7caa123adabe59f4cab40c"></a><!-- doxytag: member="ccnr_proto.c::r_proto_continue_enumeration" ref="a3cfb05cf8d7caa123adabe59f4cab40c" args="(struct ccn_closure *selfp, enum ccn_upcall_kind kind, struct ccn_upcall_info *info, int marker_comp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="ccn_8h.html#ac4cc3fdb432fd23cdc0c5642276b0ddc">ccn_upcall_res</a> <a class="el" href="ccnr__proto_8c.html#a3cfb05cf8d7caa123adabe59f4cab40c">r_proto_continue_enumeration</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccn__closure.html">ccn_closure</a> *&#160;</td>
          <td class="paramname"><em>selfp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="ccn_8h.html#a5fcebad21626ea80c67775c092011c92">ccn_upcall_kind</a>&#160;</td>
          <td class="paramname"><em>kind</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structccn__upcall__info.html">ccn_upcall_info</a> *&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>marker_comp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__proto_8c_source.html#l01143">1143</a> of file <a class="el" href="ccnr__proto_8c_source.html">ccnr_proto.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__proto_8c_source.html#l00093">r_proto_answer_req()</a>, and <a class="el" href="ccnr__proto_8c_source.html#l01006">r_proto_begin_enumeration()</a>.</p>

</div>
</div>
<a class="anchor" id="a85c77667b1ec23d0940fdc72ae10c377"></a><!-- doxytag: member="ccnr_proto.c::r_proto_deactivate_policy" ref="a85c77667b1ec23d0940fdc72ae10c377" args="(struct ccnr_handle *ccnr, struct ccnr_parsed_policy *pp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ccnr__private_8h.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void <a class="el" href="ccnr__proto_8h.html#a1a16e25e45a973e98bb36ef32a7a8f4c">r_proto_deactivate_policy</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&#160;</td>
          <td class="paramname"><em>ccnr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structccnr__parsed__policy.html">ccnr_parsed_policy</a> *&#160;</td>
          <td class="paramname"><em>pp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Uninstall the listener for the namespaces that the parsed policy says to serve. </p>

<p>Definition at line <a class="el" href="ccnr__proto_8c_source.html#l00272">272</a> of file <a class="el" href="ccnr__proto_8c_source.html">ccnr_proto.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__proto_8c_source.html#l00483">r_proto_policy_update()</a>.</p>

</div>
</div>
<a class="anchor" id="aae05c0877f3d803804ee2703f6c6f727"></a><!-- doxytag: member="ccnr_proto.c::r_proto_dump_enums" ref="aae05c0877f3d803804ee2703f6c6f727" args="(struct ccnr_handle *ccnr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="ccnr__proto_8c.html#aae05c0877f3d803804ee2703f6c6f727">r_proto_dump_enums</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&#160;</td>
          <td class="paramname"><em>ccnr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__proto_8c_source.html#l01324">1324</a> of file <a class="el" href="ccnr__proto_8c_source.html">ccnr_proto.c</a>.</p>

</div>
</div>
<a class="anchor" id="a7022342c3a0054757ce160533385ee77"></a><!-- doxytag: member="ccnr_proto.c::r_proto_expect_content" ref="a7022342c3a0054757ce160533385ee77" args="(struct ccn_closure *selfp, enum ccn_upcall_kind kind, struct ccn_upcall_info *info)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ccnr__private_8h.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> enum <a class="el" href="ccn_8h.html#ac4cc3fdb432fd23cdc0c5642276b0ddc">ccn_upcall_res</a> <a class="el" href="ccnr__proto_8h.html#a4e869bba021517ccbe0fa1c9097bb9aa">r_proto_expect_content</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccn__closure.html">ccn_closure</a> *&#160;</td>
          <td class="paramname"><em>selfp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="ccn_8h.html#a5fcebad21626ea80c67775c092011c92">ccn_upcall_kind</a>&#160;</td>
          <td class="paramname"><em>kind</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structccn__upcall__info.html">ccn_upcall_info</a> *&#160;</td>
          <td class="paramname"><em>info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__proto_8c_source.html#l00340">340</a> of file <a class="el" href="ccnr__proto_8c_source.html">ccnr_proto.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__proto_8c_source.html#l01522">r_proto_initiate_key_fetch()</a>, and <a class="el" href="ccnr__proto_8c_source.html#l00643">r_proto_start_write()</a>.</p>

</div>
</div>
<a class="anchor" id="a839f36da4f87d560b0cd5e7c21e7c83b"></a><!-- doxytag: member="ccnr_proto.c::r_proto_finalize_enum_state" ref="a839f36da4f87d560b0cd5e7c21e7c83b" args="(struct hashtb_enumerator *e)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="ccnr__proto_8h.html#a839f36da4f87d560b0cd5e7c21e7c83b">r_proto_finalize_enum_state</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structhashtb__enumerator.html">hashtb_enumerator</a> *&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__proto_8c_source.html#l00943">943</a> of file <a class="el" href="ccnr__proto_8c_source.html">ccnr_proto.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__init_8c_source.html#l00468">r_init_create()</a>.</p>

</div>
</div>
<a class="anchor" id="abef394d94d4306260f1355204eadfb12"></a><!-- doxytag: member="ccnr_proto.c::r_proto_init" ref="abef394d94d4306260f1355204eadfb12" args="(struct ccnr_handle *ccnr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ccnr__private_8h.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void <a class="el" href="ccnr__proto_8h.html#a89fd1ffd369642f5a3ce31b92c1cddd8">r_proto_init</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&#160;</td>
          <td class="paramname"><em>ccnr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__proto_8c_source.html#l00241">241</a> of file <a class="el" href="ccnr__proto_8c_source.html">ccnr_proto.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__init_8c_source.html#l00468">r_init_create()</a>.</p>

</div>
</div>
<a class="anchor" id="a22346544e87a567a668c08a4f722fe21"></a><!-- doxytag: member="ccnr_proto.c::r_proto_initiate_key_fetch" ref="a22346544e87a567a668c08a4f722fe21" args="(struct ccnr_handle *ccnr, const unsigned char *msg, struct ccn_parsed_ContentObject *pco, int use_link, ccnr_cookie a)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="ccnr__proto_8h.html#a22346544e87a567a668c08a4f722fe21">r_proto_initiate_key_fetch</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&#160;</td>
          <td class="paramname"><em>ccnr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structccn__parsed___content_object.html">ccn_parsed_ContentObject</a> *&#160;</td>
          <td class="paramname"><em>pco</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>use_link</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ccnr__private_8h.html#aa218fe1bf4c4e7deaa9f150cf7435593">ccnr_cookie</a>&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initiate a key fetch if necessary. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>-1 if error or no name, 0 if fetch was issued, 1 if already stored. </dd></dl>

<p>Definition at line <a class="el" href="ccnr__proto_8c_source.html#l01522">1522</a> of file <a class="el" href="ccnr__proto_8c_source.html">ccnr_proto.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__proto_8c_source.html#l00340">r_proto_expect_content()</a>, and <a class="el" href="ccnr__sync_8c_source.html#l00453">r_sync_upcall_store()</a>.</p>

</div>
</div>
<a class="anchor" id="a08f977612f42a2d4bf2436cf3bc4ff44"></a><!-- doxytag: member="ccnr_proto.c::r_proto_mktemplate" ref="a08f977612f42a2d4bf2436cf3bc4ff44" args="(struct ccnr_expect_content *md, struct ccn_upcall_info *info, int maxsuffix)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structccn__charbuf.html">ccn_charbuf</a>* <a class="el" href="ccnr__proto_8c.html#a08f977612f42a2d4bf2436cf3bc4ff44">r_proto_mktemplate</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__expect__content.html">ccnr_expect_content</a> *&#160;</td>
          <td class="paramname"><em>md</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structccn__upcall__info.html">ccn_upcall_info</a> *&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>maxsuffix</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__proto_8c_source.html#l00325">325</a> of file <a class="el" href="ccnr__proto_8c_source.html">ccnr_proto.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__proto_8c_source.html#l00340">r_proto_expect_content()</a>, and <a class="el" href="ccnr__proto_8c_source.html#l00643">r_proto_start_write()</a>.</p>

</div>
</div>
<a class="anchor" id="a1fd5a3888c075ae928fe02b60bba3a29"></a><!-- doxytag: member="ccnr_proto.c::r_proto_parse_policy" ref="a1fd5a3888c075ae928fe02b60bba3a29" args="(struct ccnr_handle *ccnr, const unsigned char *buf, size_t length, struct ccnr_parsed_policy *pp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ccnr__private_8h.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> int <a class="el" href="ccnr__proto_8h.html#a84382d03b05753f4a306a67d3e85aec0">r_proto_parse_policy</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&#160;</td>
          <td class="paramname"><em>ccnr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structccnr__parsed__policy.html">ccnr_parsed_policy</a> *&#160;</td>
          <td class="paramname"><em>pp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Parse a ccnb-encoded policy content object and fill in a ccn_parsed_policy structure as the result. </p>

<p>Definition at line <a class="el" href="ccnr__proto_8c_source.html#l01494">1494</a> of file <a class="el" href="ccnr__proto_8c_source.html">ccnr_proto.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__init_8c_source.html#l00920">load_policy()</a>, and <a class="el" href="ccnr__proto_8c_source.html#l00483">r_proto_policy_update()</a>.</p>

</div>
</div>
<a class="anchor" id="a03f6adb892890e069ed2de424f5f7471"></a><!-- doxytag: member="ccnr_proto.c::r_proto_policy_append_basic" ref="a03f6adb892890e069ed2de424f5f7471" args="(struct ccnr_handle *ccnr, struct ccn_charbuf *policy, const char *version, const char *local_name, const char *global_prefix)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ccnr__private_8h.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> int <a class="el" href="ccnr__proto_8h.html#ade02a3f868c0d42b519ea9ec9185ab44">r_proto_policy_append_basic</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&#160;</td>
          <td class="paramname"><em>ccnr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structccn__charbuf.html">ccn_charbuf</a> *&#160;</td>
          <td class="paramname"><em>policy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>version</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>local_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>global_prefix</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__proto_8c_source.html#l01462">1462</a> of file <a class="el" href="ccnr__proto_8c_source.html">ccnr_proto.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__init_8c_source.html#l00920">load_policy()</a>.</p>

</div>
</div>
<a class="anchor" id="a04232b8c4b837b754c62910e924d9aaa"></a><!-- doxytag: member="ccnr_proto.c::r_proto_policy_append_namespace" ref="a04232b8c4b837b754c62910e924d9aaa" args="(struct ccnr_handle *ccnr, struct ccn_charbuf *policy, const char *namespace)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ccnr__private_8h.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> int <a class="el" href="ccnr__proto_8h.html#a988bd44b83e717395fcde7669553376e">r_proto_policy_append_namespace</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&#160;</td>
          <td class="paramname"><em>ccnr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structccn__charbuf.html">ccn_charbuf</a> *&#160;</td>
          <td class="paramname"><em>policy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>namespace</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__proto_8c_source.html#l01476">1476</a> of file <a class="el" href="ccnr__proto_8c_source.html">ccnr_proto.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__init_8c_source.html#l00920">load_policy()</a>.</p>

</div>
</div>
<a class="anchor" id="ad81888c51edfc8284ca8d402bf365b75"></a><!-- doxytag: member="ccnr_proto.c::r_proto_policy_complete" ref="ad81888c51edfc8284ca8d402bf365b75" args="(struct ccn_closure *selfp, enum ccn_upcall_kind kind, struct ccn_upcall_info *info)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="ccn_8h.html#ac4cc3fdb432fd23cdc0c5642276b0ddc">ccn_upcall_res</a> <a class="el" href="ccnr__proto_8c.html#ad81888c51edfc8284ca8d402bf365b75">r_proto_policy_complete</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccn__closure.html">ccn_closure</a> *&#160;</td>
          <td class="paramname"><em>selfp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="ccn_8h.html#a5fcebad21626ea80c67775c092011c92">ccn_upcall_kind</a>&#160;</td>
          <td class="paramname"><em>kind</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structccn__upcall__info.html">ccn_upcall_info</a> *&#160;</td>
          <td class="paramname"><em>info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__proto_8c_source.html#l00599">599</a> of file <a class="el" href="ccnr__proto_8c_source.html">ccnr_proto.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__proto_8c_source.html#l00643">r_proto_start_write()</a>.</p>

</div>
</div>
<a class="anchor" id="af2f1b5ff7ab1d71cf7f773d1e7ed8325"></a><!-- doxytag: member="ccnr_proto.c::r_proto_policy_update" ref="af2f1b5ff7ab1d71cf7f773d1e7ed8325" args="(struct ccn_schedule *sched, void *clienth, struct ccn_scheduled_event *ev, int flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int <a class="el" href="ccnr__proto_8c.html#af2f1b5ff7ab1d71cf7f773d1e7ed8325">r_proto_policy_update</a> </td>
          <td>(</td>
          <td class="paramtype">struct ccn_schedule *&#160;</td>
          <td class="paramname"><em>sched</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>clienth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structccn__scheduled__event.html">ccn_scheduled_event</a> *&#160;</td>
          <td class="paramname"><em>ev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__proto_8c_source.html#l00483">483</a> of file <a class="el" href="ccnr__proto_8c_source.html">ccnr_proto.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__proto_8c_source.html#l00599">r_proto_policy_complete()</a>.</p>

</div>
</div>
<a class="anchor" id="a09cb147151d02fa0624317f58188fd10"></a><!-- doxytag: member="ccnr_proto.c::r_proto_start_write" ref="a09cb147151d02fa0624317f58188fd10" args="(struct ccn_closure *selfp, enum ccn_upcall_kind kind, struct ccn_upcall_info *info, int marker_comp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="ccn_8h.html#ac4cc3fdb432fd23cdc0c5642276b0ddc">ccn_upcall_res</a> <a class="el" href="ccnr__proto_8c.html#a09cb147151d02fa0624317f58188fd10">r_proto_start_write</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccn__closure.html">ccn_closure</a> *&#160;</td>
          <td class="paramname"><em>selfp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="ccn_8h.html#a5fcebad21626ea80c67775c092011c92">ccn_upcall_kind</a>&#160;</td>
          <td class="paramname"><em>kind</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structccn__upcall__info.html">ccn_upcall_info</a> *&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>marker_comp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__proto_8c_source.html#l00643">643</a> of file <a class="el" href="ccnr__proto_8c_source.html">ccnr_proto.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__proto_8c_source.html#l00093">r_proto_answer_req()</a>, and <a class="el" href="ccnr__proto_8c_source.html#l00779">r_proto_start_write_checked()</a>.</p>

</div>
</div>
<a class="anchor" id="a430cf7f7832e08280285d33c6f393cb9"></a><!-- doxytag: member="ccnr_proto.c::r_proto_start_write_checked" ref="a430cf7f7832e08280285d33c6f393cb9" args="(struct ccn_closure *selfp, enum ccn_upcall_kind kind, struct ccn_upcall_info *info, int marker_comp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="ccn_8h.html#ac4cc3fdb432fd23cdc0c5642276b0ddc">ccn_upcall_res</a> <a class="el" href="ccnr__proto_8c.html#a430cf7f7832e08280285d33c6f393cb9">r_proto_start_write_checked</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccn__closure.html">ccn_closure</a> *&#160;</td>
          <td class="paramname"><em>selfp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="ccn_8h.html#a5fcebad21626ea80c67775c092011c92">ccn_upcall_kind</a>&#160;</td>
          <td class="paramname"><em>kind</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structccn__upcall__info.html">ccn_upcall_info</a> *&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>marker_comp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__proto_8c_source.html#l00779">779</a> of file <a class="el" href="ccnr__proto_8c_source.html">ccnr_proto.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__proto_8c_source.html#l00093">r_proto_answer_req()</a>.</p>

</div>
</div>
<a class="anchor" id="aee367dfd2b8af67d21bcc3ece4db5b06"></a><!-- doxytag: member="ccnr_proto.c::r_proto_uri_listen" ref="aee367dfd2b8af67d21bcc3ece4db5b06" args="(struct ccnr_handle *ccnr, struct ccn *ccn, const char *uri, ccn_handler p, intptr_t intdata)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ccnr__private_8h.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void <a class="el" href="ccnr__proto_8h.html#a0ae63b262caf3668f3bcd701fad0913c">r_proto_uri_listen</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&#160;</td>
          <td class="paramname"><em>ccnr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct ccn *&#160;</td>
          <td class="paramname"><em>ccn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ccn_8h.html#a3ade7f73d8960d3f145c97efe0332c9e">ccn_handler</a>&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">intptr_t&#160;</td>
          <td class="paramname"><em>intdata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__proto_8c_source.html#l00221">221</a> of file <a class="el" href="ccnr__proto_8c_source.html">ccnr_proto.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__proto_8c_source.html#l00250">r_proto_activate_policy()</a>, and <a class="el" href="ccnr__proto_8c_source.html#l00272">r_proto_deactivate_policy()</a>.</p>

</div>
</div>
<a class="anchor" id="a9cc88e81a710eadbd5dd6399962354e4"></a><!-- doxytag: member="ccnr_proto.c::reap_enumerations" ref="a9cc88e81a710eadbd5dd6399962354e4" args="(struct ccn_schedule *sched, void *clienth, struct ccn_scheduled_event *ev, int flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int <a class="el" href="ccnr__proto_8c.html#a9cc88e81a710eadbd5dd6399962354e4">reap_enumerations</a> </td>
          <td>(</td>
          <td class="paramtype">struct ccn_schedule *&#160;</td>
          <td class="paramname"><em>sched</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>clienth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structccn__scheduled__event.html">ccn_scheduled_event</a> *&#160;</td>
          <td class="paramname"><em>ev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Remove expired enumeration table entries. </p>

<p>Definition at line <a class="el" href="ccnr__proto_8c_source.html#l00962">962</a> of file <a class="el" href="ccnr__proto_8c_source.html">ccnr_proto.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__proto_8c_source.html#l00996">reap_enumerations_needed()</a>.</p>

</div>
</div>
<a class="anchor" id="a1e1ba0c455da37d01178bb2345ff3d44"></a><!-- doxytag: member="ccnr_proto.c::reap_enumerations_needed" ref="a1e1ba0c455da37d01178bb2345ff3d44" args="(struct ccnr_handle *ccnr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void <a class="el" href="ccnr__proto_8c.html#a1e1ba0c455da37d01178bb2345ff3d44">reap_enumerations_needed</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccnr__handle.html">ccnr_handle</a> *&#160;</td>
          <td class="paramname"><em>ccnr</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ccnr__proto_8c_source.html#l00996">996</a> of file <a class="el" href="ccnr__proto_8c_source.html">ccnr_proto.c</a>.</p>

<p>Referenced by <a class="el" href="ccnr__proto_8c_source.html#l01006">r_proto_begin_enumeration()</a>.</p>

</div>
</div>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Tue Apr 1 2014 10:50:56 for Content-Centric Networking in C by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
