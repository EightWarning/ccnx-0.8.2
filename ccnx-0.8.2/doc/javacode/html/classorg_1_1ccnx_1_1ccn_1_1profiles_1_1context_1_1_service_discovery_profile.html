<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Content-Centric Networking in Java: org.ccnx.ccn.profiles.context.ServiceDiscoveryProfile Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Content-Centric Networking in Java
   &#160;<span id="projectnumber">0.8.2</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classorg_1_1ccnx_1_1ccn_1_1profiles_1_1context_1_1_service_discovery_profile.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a>  </div>
  <div class="headertitle">
<div class="title">org.ccnx.ccn.profiles.context.ServiceDiscoveryProfile Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="org::ccnx::ccn::profiles::context::ServiceDiscoveryProfile" --><!-- doxytag: inherits="org::ccnx::ccn::profiles::CCNProfile" -->
<p>The ServiceDiscovery protocol aids in finding data about local (same-machine) and nearby (network neighborhood) services.  
 <a href="classorg_1_1ccnx_1_1ccn_1_1profiles_1_1context_1_1_service_discovery_profile.html#details">More...</a></p>

<p><a href="classorg_1_1ccnx_1_1ccn_1_1profiles_1_1context_1_1_service_discovery_profile-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a36ff98b7f781aedf6689f9087029b248"></a><!-- doxytag: member="org::ccnx::ccn::profiles::context::ServiceDiscoveryProfile::localhostScopeName" ref="a36ff98b7f781aedf6689f9087029b248" args="()" -->
static final <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a>&#160;</td><td class="memItemRight" valign="bottom"><b>localhostScopeName</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1169322129e63198868559077ea8c34b"></a><!-- doxytag: member="org::ccnx::ccn::profiles::context::ServiceDiscoveryProfile::localServiceName" ref="a1169322129e63198868559077ea8c34b" args="(String service)" -->
static <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a>&#160;</td><td class="memItemRight" valign="bottom"><b>localServiceName</b> (String service)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2864d86ce714e085e03b283859c148a7"></a><!-- doxytag: member="org::ccnx::ccn::profiles::context::ServiceDiscoveryProfile::getLocalServiceName" ref="a2864d86ce714e085e03b283859c148a7" args="(ContentName nameWithServicePrefix)" -->
static String&#160;</td><td class="memItemRight" valign="bottom"><b>getLocalServiceName</b> (<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a> nameWithServicePrefix)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static ArrayList&lt; <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_object.html">ContentObject</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1profiles_1_1context_1_1_service_discovery_profile.html#a8099f3a2ab67b27c8373c9387e04a141">getLocalServiceKeys</a> (String service, long timeout, <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1_c_c_n_handle.html">CCNHandle</a> handle)  throws IOException </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">We want to get a list of local implementors of this service and their keys; until the timeout.  <a href="#a8099f3a2ab67b27c8373c9387e04a141"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1io_1_1content_1_1_public_key_object.html">PublicKeyObject</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1profiles_1_1context_1_1_service_discovery_profile.html#a0f4d1f5c540e07a430d89c72d09ca92d">getLocalServiceKey</a> (String service, long timeout, <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1_c_c_n_handle.html">CCNHandle</a> handle)  throws IOException </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Query for local service keys when we believe there is only a single instance of a service.  <a href="#a0f4d1f5c540e07a430d89c72d09ca92d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac3e2057aa6303cd6da1db99e8918c10c"></a><!-- doxytag: member="org::ccnx::ccn::profiles::context::ServiceDiscoveryProfile::publishLocalServiceKey" ref="ac3e2057aa6303cd6da1db99e8918c10c" args="(String service, PublisherPublicKeyDigest serviceKey, KeyManager keyManager)" -->
static void&#160;</td><td class="memItemRight" valign="bottom"><b>publishLocalServiceKey</b> (String service, <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_publisher_public_key_digest.html">PublisherPublicKeyDigest</a> serviceKey, <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1_key_manager.html">KeyManager</a> keyManager)  throws InvalidKeyException, IOException </td></tr>
<tr><td colspan="2"><h2><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6f023f3857fe7762a026ef274ba1b3e5"></a><!-- doxytag: member="org::ccnx::ccn::profiles::context::ServiceDiscoveryProfile::STRING_LOCALHOST" ref="a6f023f3857fe7762a026ef274ba1b3e5" args="" -->
static final String&#160;</td><td class="memItemRight" valign="bottom"><b>STRING_LOCALHOST</b> = &quot;localhost&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static final <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1profiles_1_1_command_marker.html">CommandMarker</a>&#160;</td><td class="memItemRight" valign="bottom"><b>LOCALHOST_SCOPE</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static final <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1profiles_1_1_command_marker.html">CommandMarker</a>&#160;</td><td class="memItemRight" valign="bottom"><b>SERVICE_NAME_COMPONENT_MARKER</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a633413cc5771d1dc17387b0af18d1dda"></a><!-- doxytag: member="org::ccnx::ccn::profiles::context::ServiceDiscoveryProfile::SCOPE_COMPONENT" ref="a633413cc5771d1dc17387b0af18d1dda" args="" -->
static final int&#160;</td><td class="memItemRight" valign="bottom"><b>SCOPE_COMPONENT</b> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a42f95904a558a22b96f7fc29e3f6ad41"></a><!-- doxytag: member="org::ccnx::ccn::profiles::context::ServiceDiscoveryProfile::SERVICE_MARKER_COMPONENT" ref="a42f95904a558a22b96f7fc29e3f6ad41" args="" -->
static final int&#160;</td><td class="memItemRight" valign="bottom"><b>SERVICE_MARKER_COMPONENT</b> = 1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7d03bdccc8fe8f3ba315e876eec066ff"></a><!-- doxytag: member="org::ccnx::ccn::profiles::context::ServiceDiscoveryProfile::SERVICE_NAME_COMPONENT" ref="a7d03bdccc8fe8f3ba315e876eec066ff" args="" -->
static final int&#160;</td><td class="memItemRight" valign="bottom"><b>SERVICE_NAME_COMPONENT</b> = 3</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a389ce4f17b5109b7c2b59adf2c05306c"></a><!-- doxytag: member="org::ccnx::ccn::profiles::context::ServiceDiscoveryProfile::CCND_SERVICE_NAME" ref="a389ce4f17b5109b7c2b59adf2c05306c" args="" -->
static final String&#160;</td><td class="memItemRight" valign="bottom"><b>CCND_SERVICE_NAME</b> = &quot;ccnd&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad4c542e4381a02c24ac2e6da5d9301e8"></a><!-- doxytag: member="org::ccnx::ccn::profiles::context::ServiceDiscoveryProfile::REPOSITORY_SERVICE_NAME" ref="ad4c542e4381a02c24ac2e6da5d9301e8" args="" -->
static final String&#160;</td><td class="memItemRight" valign="bottom"><b>REPOSITORY_SERVICE_NAME</b> = &quot;repository&quot;</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>The ServiceDiscovery protocol aids in finding data about local (same-machine) and nearby (network neighborhood) services. </p>
<p>We start by retrieving service keys, using: /C1.M.S.localhost/C1.M.SRV/&lt;servicename&gt;/KEY/ and getting as an answer an encoded, self-signed key published under the <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1profiles_1_1security_1_1_key_profile.html#a28e9f887a932fd2a2b25264a8687ee1d" title="This creates a ContentName whose last component represents the digest of a public key...">KeyProfile.keyName()</a> of that service's key under that prefix. </p>
</div><hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a0f4d1f5c540e07a430d89c72d09ca92d"></a><!-- doxytag: member="org::ccnx::ccn::profiles::context::ServiceDiscoveryProfile::getLocalServiceKey" ref="a0f4d1f5c540e07a430d89c72d09ca92d" args="(String service, long timeout, CCNHandle handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1io_1_1content_1_1_public_key_object.html">PublicKeyObject</a> <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1profiles_1_1context_1_1_service_discovery_profile.html#a0f4d1f5c540e07a430d89c72d09ca92d">org.ccnx.ccn.profiles.context.ServiceDiscoveryProfile.getLocalServiceKey</a> </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>service</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1_c_c_n_handle.html">CCNHandle</a>&#160;</td>
          <td class="paramname"><em>handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>  throws IOException <code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Query for local service keys when we believe there is only a single instance of a service. </p>
<p>Returns as soon as it gets a first response, or on timeout. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">service</td><td></td></tr>
    <tr><td class="paramname">timeout</td><td></td></tr>
    <tr><td class="paramname">handle</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>
<dl class="exception"><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname">IOException</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8099f3a2ab67b27c8373c9387e04a141"></a><!-- doxytag: member="org::ccnx::ccn::profiles::context::ServiceDiscoveryProfile::getLocalServiceKeys" ref="a8099f3a2ab67b27c8373c9387e04a141" args="(String service, long timeout, CCNHandle handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static ArrayList&lt;<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_object.html">ContentObject</a>&gt; <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1profiles_1_1context_1_1_service_discovery_profile.html#a8099f3a2ab67b27c8373c9387e04a141">org.ccnx.ccn.profiles.context.ServiceDiscoveryProfile.getLocalServiceKeys</a> </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>service</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1_c_c_n_handle.html">CCNHandle</a>&#160;</td>
          <td class="paramname"><em>handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>  throws IOException <code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>We want to get a list of local implementors of this service and their keys; until the timeout. </p>
<p>We use excludes to get all of them within the timeout. We get whole keys because they're usually a single object, so there is no reason not to load them. Rather than decoding them all, though, we just hand back the CO to the caller to decide what to do.</p>
<p>Start by taking a timeout to use as the inter-response interval; if we haven't heard anything in that long, we stop. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">service</td><td></td></tr>
    <tr><td class="paramname">serviceKey</td><td></td></tr>
    <tr><td class="paramname">keyManager</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname">IOException</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a57659195705fbe07ce2ab12d4753ae22"></a><!-- doxytag: member="org::ccnx::ccn::profiles::context::ServiceDiscoveryProfile::LOCALHOST_SCOPE" ref="a57659195705fbe07ce2ab12d4753ae22" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">final <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1profiles_1_1_command_marker.html">CommandMarker</a> org.ccnx.ccn.profiles.context.ServiceDiscoveryProfile.LOCALHOST_SCOPE<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment">
                CommandMarker.commandMarker(CommandMarker.COMMAND_MARKER_SCOPE, STRING_LOCALHOST)
</pre></div>
</div>
</div>
<a class="anchor" id="a49cea4a0b28bab9de07e8cc0a9f23e83"></a><!-- doxytag: member="org::ccnx::ccn::profiles::context::ServiceDiscoveryProfile::SERVICE_NAME_COMPONENT_MARKER" ref="a49cea4a0b28bab9de07e8cc0a9f23e83" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">final <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1profiles_1_1_command_marker.html">CommandMarker</a> org.ccnx.ccn.profiles.context.ServiceDiscoveryProfile.SERVICE_NAME_COMPONENT_MARKER<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> 
                CommandMarker.commandMarker(CommandMarker.MARKER_NAMESPACE, <span class="stringliteral">&quot;SRV&quot;</span>)
</pre></div>
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/main/org/ccnx/ccn/profiles/context/ServiceDiscoveryProfile.java</li>
</ul>
</div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><b>org</b>      </li>
      <li class="navelem"><b>ccnx</b>      </li>
      <li class="navelem"><b>ccn</b>      </li>
      <li class="navelem"><b>profiles</b>      </li>
      <li class="navelem"><b>context</b>      </li>
      <li class="navelem"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1profiles_1_1context_1_1_service_discovery_profile.html">ServiceDiscoveryProfile</a>      </li>

    <li class="footer">Generated on Tue Apr 1 2014 10:51:29 for Content-Centric Networking in Java by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
