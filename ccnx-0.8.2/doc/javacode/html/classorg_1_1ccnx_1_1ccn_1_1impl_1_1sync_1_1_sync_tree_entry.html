<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Content-Centric Networking in Java: org.ccnx.ccn.impl.sync.SyncTreeEntry Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Content-Centric Networking in Java
   &#160;<span id="projectnumber">0.8.2</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classorg_1_1ccnx_1_1ccn_1_1impl_1_1sync_1_1_sync_tree_entry.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">org.ccnx.ccn.impl.sync.SyncTreeEntry Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="org::ccnx::ccn::impl::sync::SyncTreeEntry" -->
<p>Entry used for navigating trees of hashes.  
 <a href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1sync_1_1_sync_tree_entry.html#details">More...</a></p>

<p><a href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1sync_1_1_sync_tree_entry-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a91a043b20ac62307d504012e73464b64"></a><!-- doxytag: member="org::ccnx::ccn::impl::sync::SyncTreeEntry::SyncTreeEntry" ref="a91a043b20ac62307d504012e73464b64" args="(byte[] hash, SyncNodeCache cache)" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>SyncTreeEntry</b> (byte[] hash, <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1sync_1_1_sync_node_cache.html">SyncNodeCache</a> cache)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afde466bc1b0ca52612cb6567f83af169"></a><!-- doxytag: member="org::ccnx::ccn::impl::sync::SyncTreeEntry::setNode" ref="afde466bc1b0ca52612cb6567f83af169" args="(SyncNodeComposite snc)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>setNode</b> (<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1io_1_1content_1_1_sync_node_composite.html">SyncNodeComposite</a> snc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1sync_1_1_sync_tree_entry.html#a4b4fdfdc51170d7ace0dc9ab6ebe644f">setRawContent</a> (byte[] content)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This is used in the case where we have content for a SyncNodeComposite but don't have its hash until we decode it.  <a href="#a4b4fdfdc51170d7ace0dc9ab6ebe644f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1io_1_1content_1_1_sync_node_composite.html">SyncNodeComposite</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1sync_1_1_sync_tree_entry.html#ac5425f3d8d05e36a28cb3071b877019c">getNode</a> (<a class="el" href="interfaceorg_1_1ccnx_1_1ccn_1_1impl_1_1encoding_1_1_x_m_l_decoder.html">XMLDecoder</a> decoder)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Decodes the hash if not yet done.  <a href="#ac5425f3d8d05e36a28cb3071b877019c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abd4af8257175a3fe96099e5e8320d55b"></a><!-- doxytag: member="org::ccnx::ccn::impl::sync::SyncTreeEntry::getNode" ref="abd4af8257175a3fe96099e5e8320d55b" args="()" -->
<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1io_1_1content_1_1_sync_node_composite.html">SyncNodeComposite</a>&#160;</td><td class="memItemRight" valign="bottom"><b>getNode</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">synchronized <br class="typebreak"/>
SyncNodeComposite.SyncNodeElement&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1sync_1_1_sync_tree_entry.html#aa6efa4e4bcaaaa18895757957c349c4f">getCurrentElement</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Routines for getting and cycling through the references.  <a href="#aa6efa4e4bcaaaa18895757957c349c4f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a64c499d125e39f127aeab46a9acf78d5"></a><!-- doxytag: member="org::ccnx::ccn::impl::sync::SyncTreeEntry::incPos" ref="a64c499d125e39f127aeab46a9acf78d5" args="()" -->
synchronized void&#160;</td><td class="memItemRight" valign="bottom"><b>incPos</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad1704a78ac1fa316054098ea3f655cd3"></a><!-- doxytag: member="org::ccnx::ccn::impl::sync::SyncTreeEntry::setPos" ref="ad1704a78ac1fa316054098ea3f655cd3" args="(int position)" -->
synchronized void&#160;</td><td class="memItemRight" valign="bottom"><b>setPos</b> (int position)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa744a7dd9326e02027423e9de263ff5a"></a><!-- doxytag: member="org::ccnx::ccn::impl::sync::SyncTreeEntry::getPos" ref="aa744a7dd9326e02027423e9de263ff5a" args="()" -->
synchronized int&#160;</td><td class="memItemRight" valign="bottom"><b>getPos</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a016cdf5023360e9d9dc5231ad60398f1"></a><!-- doxytag: member="org::ccnx::ccn::impl::sync::SyncTreeEntry::lastPos" ref="a016cdf5023360e9d9dc5231ad60398f1" args="()" -->
synchronized boolean&#160;</td><td class="memItemRight" valign="bottom"><b>lastPos</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6a4a620646b27bc43ae2ec43b2047477"></a><!-- doxytag: member="org::ccnx::ccn::impl::sync::SyncTreeEntry::getHash" ref="a6a4a620646b27bc43ae2ec43b2047477" args="()" -->
synchronized byte[]&#160;</td><td class="memItemRight" valign="bottom"><b>getHash</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aecbe09a9bb6194c1601149860b7a4ebe"></a><!-- doxytag: member="org::ccnx::ccn::impl::sync::SyncTreeEntry::isCovered" ref="aecbe09a9bb6194c1601149860b7a4ebe" args="()" -->
synchronized boolean&#160;</td><td class="memItemRight" valign="bottom"><b>isCovered</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adedfa6d6715ca5a4ee0a2bde80994e63"></a><!-- doxytag: member="org::ccnx::ccn::impl::sync::SyncTreeEntry::setCovered" ref="adedfa6d6715ca5a4ee0a2bde80994e63" args="(boolean flag)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>setCovered</b> (boolean flag)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab5b96f5bf27f18b8fe28effab7bed0b5"></a><!-- doxytag: member="org::ccnx::ccn::impl::sync::SyncTreeEntry::setMissing" ref="ab5b96f5bf27f18b8fe28effab7bed0b5" args="(boolean flag)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>setMissing</b> (boolean flag)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a89c57ff1116059263c08a8621f6b985e"></a><!-- doxytag: member="org::ccnx::ccn::impl::sync::SyncTreeEntry::setLocal" ref="a89c57ff1116059263c08a8621f6b985e" args="(boolean flag)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>setLocal</b> (boolean flag)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a32b41139b000c678745d9b7987168024"></a><!-- doxytag: member="org::ccnx::ccn::impl::sync::SyncTreeEntry::isLocal" ref="a32b41139b000c678745d9b7987168024" args="()" -->
synchronized boolean&#160;</td><td class="memItemRight" valign="bottom"><b>isLocal</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9a3b5d60a496533e726dfab1c80bdf26"></a><!-- doxytag: member="org::ccnx::ccn::impl::sync::SyncTreeEntry::isMissing" ref="a9a3b5d60a496533e726dfab1c80bdf26" args="()" -->
synchronized boolean&#160;</td><td class="memItemRight" valign="bottom"><b>isMissing</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a36905c46bb15d527f1b5e563246fdda8"></a><!-- doxytag: member="org::ccnx::ccn::impl::sync::SyncTreeEntry::equals" ref="a36905c46bb15d527f1b5e563246fdda8" args="(Object other)" -->
boolean&#160;</td><td class="memItemRight" valign="bottom"><b>equals</b> (Object other)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae610c045d282c079c5898b6cdeff8881"></a><!-- doxytag: member="org::ccnx::ccn::impl::sync::SyncTreeEntry::hashCode" ref="ae610c045d282c079c5898b6cdeff8881" args="()" -->
int&#160;</td><td class="memItemRight" valign="bottom"><b>hashCode</b> ()</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a31ab966e8f0dd68aa57950a8cbb35358"></a><!-- doxytag: member="org::ccnx::ccn::impl::sync::SyncTreeEntry::_flags" ref="a31ab966e8f0dd68aa57950a8cbb35358" args="" -->
long&#160;</td><td class="memItemRight" valign="bottom"><b>_flags</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afe52c0f9e0e32d8c8de8164ac6f07259"></a><!-- doxytag: member="org::ccnx::ccn::impl::sync::SyncTreeEntry::_hash" ref="afe52c0f9e0e32d8c8de8164ac6f07259" args="" -->
byte[]&#160;</td><td class="memItemRight" valign="bottom"><b>_hash</b> = null</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3fccdd7299b219992c0078c1e2c8eebb"></a><!-- doxytag: member="org::ccnx::ccn::impl::sync::SyncTreeEntry::_node" ref="a3fccdd7299b219992c0078c1e2c8eebb" args="" -->
<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1io_1_1content_1_1_sync_node_composite.html">SyncNodeComposite</a>&#160;</td><td class="memItemRight" valign="bottom"><b>_node</b> = null</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a03bddf151128c0799f9d76e21b5ddb41"></a><!-- doxytag: member="org::ccnx::ccn::impl::sync::SyncTreeEntry::_softNodeRef" ref="a03bddf151128c0799f9d76e21b5ddb41" args="" -->
SoftReference&lt; <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1io_1_1content_1_1_sync_node_composite.html">SyncNodeComposite</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>_softNodeRef</b> = null</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a11a3db298b158289a98bad90fd6f13ea"></a><!-- doxytag: member="org::ccnx::ccn::impl::sync::SyncTreeEntry::_rawContent" ref="a11a3db298b158289a98bad90fd6f13ea" args="" -->
byte[]&#160;</td><td class="memItemRight" valign="bottom"><b>_rawContent</b> = null</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a435eca511411860a2e131fdcb2e5b0a4"></a><!-- doxytag: member="org::ccnx::ccn::impl::sync::SyncTreeEntry::_position" ref="a435eca511411860a2e131fdcb2e5b0a4" args="" -->
int&#160;</td><td class="memItemRight" valign="bottom"><b>_position</b> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af617d999b2d83a2c2c9e8c1075bf97ec"></a><!-- doxytag: member="org::ccnx::ccn::impl::sync::SyncTreeEntry::_snc" ref="af617d999b2d83a2c2c9e8c1075bf97ec" args="" -->
<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1sync_1_1_sync_node_cache.html">SyncNodeCache</a>&#160;</td><td class="memItemRight" valign="bottom"><b>_snc</b> = null</td></tr>
<tr><td colspan="2"><h2><a name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4ee50837ff8fec492bca5e5eb1bf65ba"></a><!-- doxytag: member="org::ccnx::ccn::impl::sync::SyncTreeEntry::COVERED" ref="a4ee50837ff8fec492bca5e5eb1bf65ba" args="" -->
static final long&#160;</td><td class="memItemRight" valign="bottom"><b>COVERED</b> = 1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0d9e86c9b274c44c9590e7f7fb3bf2d1"></a><!-- doxytag: member="org::ccnx::ccn::impl::sync::SyncTreeEntry::LOCAL" ref="a0d9e86c9b274c44c9590e7f7fb3bf2d1" args="" -->
static final long&#160;</td><td class="memItemRight" valign="bottom"><b>LOCAL</b> = 2</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8cb8f50e54c53ed8f316f8b71a2cdbca"></a><!-- doxytag: member="org::ccnx::ccn::impl::sync::SyncTreeEntry::MISSING" ref="a8cb8f50e54c53ed8f316f8b71a2cdbca" args="" -->
static final long&#160;</td><td class="memItemRight" valign="bottom"><b>MISSING</b> = 4</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Entry used for navigating trees of hashes. </p>
<p>It also does the work of saving and retrieving node data from the common node cache. But these objects can not be shared across comparators because they contain data about where the comparator is in a treewalk.</p>
<p>The policy about how to save nodes is: If the node came from the network, it can be retrieved via a request so we use a SoftReference to allow these to be garbage collected when necessary. If the node is local, we built it so can't be guaranteed that we know how to rebuild it if we lose it. So we hold onto these directly here, and remove them explicitly when no longer needed in the higher level code. </p>
</div><hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="aa6efa4e4bcaaaa18895757957c349c4f"></a><!-- doxytag: member="org::ccnx::ccn::impl::sync::SyncTreeEntry::getCurrentElement" ref="aa6efa4e4bcaaaa18895757957c349c4f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">synchronized SyncNodeComposite.SyncNodeElement <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1sync_1_1_sync_tree_entry.html#aa6efa4e4bcaaaa18895757957c349c4f">org.ccnx.ccn.impl.sync.SyncTreeEntry.getCurrentElement</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Routines for getting and cycling through the references. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>

</div>
</div>
<a class="anchor" id="ac5425f3d8d05e36a28cb3071b877019c"></a><!-- doxytag: member="org::ccnx::ccn::impl::sync::SyncTreeEntry::getNode" ref="ac5425f3d8d05e36a28cb3071b877019c" args="(XMLDecoder decoder)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1io_1_1content_1_1_sync_node_composite.html">SyncNodeComposite</a> <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1sync_1_1_sync_tree_entry.html#ac5425f3d8d05e36a28cb3071b877019c">org.ccnx.ccn.impl.sync.SyncTreeEntry.getNode</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interfaceorg_1_1ccnx_1_1ccn_1_1impl_1_1encoding_1_1_x_m_l_decoder.html">XMLDecoder</a>&#160;</td>
          <td class="paramname"><em>decoder</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Decodes the hash if not yet done. </p>
<p>Note that this should not be called from a handler (unless we already know the node is decoded) because decoding is long and expensive and could stall the netmanager thread. We allow a separate decoder because nodes typically contain more elements than are usually allowed by default by the standard decoder. We can speed things up by preallocating more space.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">decoder</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>

</div>
</div>
<a class="anchor" id="a4b4fdfdc51170d7ace0dc9ab6ebe644f"></a><!-- doxytag: member="org::ccnx::ccn::impl::sync::SyncTreeEntry::setRawContent" ref="a4b4fdfdc51170d7ace0dc9ab6ebe644f" args="(byte[] content)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1sync_1_1_sync_tree_entry.html#a4b4fdfdc51170d7ace0dc9ab6ebe644f">org.ccnx.ccn.impl.sync.SyncTreeEntry.setRawContent</a> </td>
          <td>(</td>
          <td class="paramtype">byte[]&#160;</td>
          <td class="paramname"><em>content</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This is used in the case where we have content for a SyncNodeComposite but don't have its hash until we decode it. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">content</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/main/org/ccnx/ccn/impl/sync/SyncTreeEntry.java</li>
</ul>
</div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><b>org</b>      </li>
      <li class="navelem"><b>ccnx</b>      </li>
      <li class="navelem"><b>ccn</b>      </li>
      <li class="navelem"><a class="el" href="namespaceorg_1_1ccnx_1_1ccn_1_1impl.html">impl</a>      </li>
      <li class="navelem"><b>sync</b>      </li>
      <li class="navelem"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1sync_1_1_sync_tree_entry.html">SyncTreeEntry</a>      </li>

    <li class="footer">Generated on Tue Apr 1 2014 10:51:29 for Content-Centric Networking in Java by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
