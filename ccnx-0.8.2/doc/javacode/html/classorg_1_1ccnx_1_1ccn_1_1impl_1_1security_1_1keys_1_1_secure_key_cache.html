<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Content-Centric Networking in Java: org.ccnx.ccn.impl.security.keys.SecureKeyCache Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Content-Centric Networking in Java
   &#160;<span id="projectnumber">0.8.2</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pac-static-attribs">Static Package Attributes</a>  </div>
  <div class="headertitle">
<div class="title">org.ccnx.ccn.impl.security.keys.SecureKeyCache Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="org::ccnx::ccn::impl::security::keys::SecureKeyCache" --><!-- doxytag: inherits="java::io::Serializable" -->
<p>A container for our private keys and other secret key material that we have retrieved (e.g.  
 <a href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#details">More...</a></p>

<p><a href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#a38f17c37edb7c5563c7f0c87329c9906">SecureKeyCache</a> (<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1_key_manager.html">KeyManager</a> keyManagerToLoadFrom)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor that loads keys from a <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1_key_manager.html" title="Top-level interface for managing our own keys, as well as maintaining an address book containing the ...">KeyManager</a>.  <a href="#a38f17c37edb7c5563c7f0c87329c9906"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#a0536caacf41fe884130b3fd5d494bb94">loadKeyStore</a> (<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_key_store_info.html">KeyStoreInfo</a> keyStoreInfo, char[] password, <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_public_key_cache.html">PublicKeyCache</a> publicKeyCache)  throws KeyStoreException </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Load the private keys from a KeyStore.  <a href="#a0536caacf41fe884130b3fd5d494bb94"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Key&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#a8b27fe5aaa72fb7b5fd322a604fbd104">getKey</a> (byte[] desiredKeyIdentifier)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve a key specified by its digest To restrict access to keys, store key cache in a private variable, and don't allow references to it from untrusted code.  <a href="#a8b27fe5aaa72fb7b5fd322a604fbd104"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6f85044afac7ecef8016fccb02a3bf70"></a><!-- doxytag: member="org::ccnx::ccn::impl::security::keys::SecureKeyCache::getKey" ref="a6f85044afac7ecef8016fccb02a3bf70" args="(ContentName desiredKeyName)" -->
Key&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#a6f85044afac7ecef8016fccb02a3bf70">getKey</a> (<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a> desiredKeyName)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve a key specified by its name. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6d7681dd3fb88ed00b30c467908b45bc"></a><!-- doxytag: member="org::ccnx::ccn::impl::security::keys::SecureKeyCache::getKey" ref="a6d7681dd3fb88ed00b30c467908b45bc" args="(ContentName desiredKeyName, byte[] desiredKeyID)" -->
Key&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#a6d7681dd3fb88ed00b30c467908b45bc">getKey</a> (<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a> desiredKeyName, byte[] desiredKeyID)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Try both in one call. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#a9e1a657db9d7d9c07106b4c6ec0bc377">containsKey</a> (byte[] keyIdentifier)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether we have a record of a key specified by its digest, or in the case of a private key, the digest of the corresponding public key.  <a href="#a9e1a657db9d7d9c07106b4c6ec0bc377"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#a37797fb49c22e81c8350b7b730275166">containsKey</a> (<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a> keyName)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">As the map from name to content is not unique, this might not give you a definite answer, and you should still check the digest.  <a href="#a37797fb49c22e81c8350b7b730275166"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">byte[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#a64309aa02d2f26839ef43ded9ad8ada7">getKeyID</a> (<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a> versionedName)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the key ID associated with a name, if we have one.  <a href="#a64309aa02d2f26839ef43ded9ad8ada7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Key&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#a63878b6e34a31bb2ae8d7b67f605cb2d">getPrivateKey</a> (byte[] desiredPublicKeyIdentifier)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the private key corresponding to a key identified by its digest.  <a href="#a63878b6e34a31bb2ae8d7b67f605cb2d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adfd18cbd6d45f30308cf17a16f4ffc0d"></a><!-- doxytag: member="org::ccnx::ccn::impl::security::keys::SecureKeyCache::getPrivateKey" ref="adfd18cbd6d45f30308cf17a16f4ffc0d" args="(ContentName desiredKeyName)" -->
Key&#160;</td><td class="memItemRight" valign="bottom"><b>getPrivateKey</b> (<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a> desiredKeyName)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acd6870d2a3e1dce84d4269cb5e484feb"></a><!-- doxytag: member="org::ccnx::ccn::impl::security::keys::SecureKeyCache::getPrivateKeys" ref="acd6870d2a3e1dce84d4269cb5e484feb" args="()" -->
PrivateKey[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#acd6870d2a3e1dce84d4269cb5e484feb">getPrivateKeys</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all private keys in cache, loaded from keystore or picked up during operation. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0b98e47496fdd74d647a1cb72668c950"></a><!-- doxytag: member="org::ccnx::ccn::impl::security::keys::SecureKeyCache::getMyPrivateKeys" ref="a0b98e47496fdd74d647a1cb72668c950" args="()" -->
PrivateKey[]&#160;</td><td class="memItemRight" valign="bottom"><b>getMyPrivateKeys</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">synchronized void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#a05d8744078c59c12292b70010ce09842">addPrivateKey</a> (<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a> keyName, byte[] publicKeyIdentifier, PrivateKey pk)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Records a private key and the name and digest of the corresponding public key.  <a href="#a05d8744078c59c12292b70010ce09842"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">synchronized void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#a20214a536a9bc5e52be37fb77dd43b5d">addSecretKey</a> (<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a> keyName, SecretKey sk)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Records a secret (symmetric) key and the name and digest of the corresponding identifier (which should be a "PublisherPublicKeyDigest".  <a href="#a20214a536a9bc5e52be37fb77dd43b5d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">synchronized void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#a1d5cb2fd727fce4db98a7f492b38edf3">addMySigningKey</a> (byte[] publicKeyIdentifier, Key k)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Records one of my private keys and the digest of the corresponding public key.  <a href="#a1d5cb2fd727fce4db98a7f492b38edf3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">synchronized void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#a43e00b1198b6ff057680f6b0a4b40a34">addKey</a> (<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a> name, Key key)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Make a record of a key by its name and digest.  <a href="#a43e00b1198b6ff057680f6b0a4b40a34"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afd0fb57cca4f3dabe895e59f06c34d7d"></a><!-- doxytag: member="org::ccnx::ccn::impl::security::keys::SecureKeyCache::getPublicKeyIdentifier" ref="afd0fb57cca4f3dabe895e59f06c34d7d" args="(Key pk)" -->
<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_publisher_public_key_digest.html">PublisherPublicKeyDigest</a>&#160;</td><td class="memItemRight" valign="bottom"><b>getPublicKeyIdentifier</b> (Key pk)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#afffa0891afdf8176410c5deb8946993a">size</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a total count of keys in this cache.  <a href="#afffa0891afdf8176410c5deb8946993a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">synchronized void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#aef3ac3c7f1b73a742cf0c14870f11790">merge</a> (<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html">SecureKeyCache</a> cache)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Merges the <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html" title="A container for our private keys and other secret key material that we have retrieved (e...">SecureKeyCache</a> with a given <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html" title="A container for our private keys and other secret key material that we have retrieved (e...">SecureKeyCache</a>.  <a href="#aef3ac3c7f1b73a742cf0c14870f11790"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a21fc6a696e6b61b31341e4b8352506b4"></a><!-- doxytag: member="org::ccnx::ccn::impl::security::keys::SecureKeyCache::printContents" ref="a21fc6a696e6b61b31341e4b8352506b4" args="()" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#a21fc6a696e6b61b31341e4b8352506b4">printContents</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Debugging utility to print the contents of the secureKeyCache. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#a96aa7e64e268a5e1e1de95492f4c24f9">validateForWriting</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Make sure everything in here is Serializable.  <a href="#a96aa7e64e268a5e1e1de95492f4c24f9"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static byte[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#a3948dde81e9dcb65d981c797d20d1ed9">getKeyIdentifier</a> (Key key)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the digest of a specified key.  <a href="#a3948dde81e9dcb65d981c797d20d1ed9"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa106bcbb372c88f91651f64568dff354"></a><!-- doxytag: member="org::ccnx::ccn::impl::security::keys::SecureKeyCache::privateKeyFormat" ref="aa106bcbb372c88f91651f64568dff354" args="" -->
static String&#160;</td><td class="memItemRight" valign="bottom"><b>privateKeyFormat</b> = &quot;PKCS#8&quot;</td></tr>
<tr><td colspan="2"><h2><a name="pac-static-attribs"></a>
Static Package Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a65fe9ccc4d8fcacde5ff9b408b1db77a"></a><!-- doxytag: member="org::ccnx::ccn::impl::security::keys::SecureKeyCache::byteArrayComparator" ref="a65fe9ccc4d8fcacde5ff9b408b1db77a" args="" -->
static Comparator&lt; byte[]&gt;&#160;</td><td class="memItemRight" valign="bottom"><b>byteArrayComparator</b> = new <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1support_1_1_byte_array_compare.html">ByteArrayCompare</a>()</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>A container for our private keys and other secret key material that we have retrieved (e.g. </p>
<p>from access control).</p>
<p>TODO: finish mechanism that saves the key cache between runs. </p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a38f17c37edb7c5563c7f0c87329c9906"></a><!-- doxytag: member="org::ccnx::ccn::impl::security::keys::SecureKeyCache::SecureKeyCache" ref="a38f17c37edb7c5563c7f0c87329c9906" args="(KeyManager keyManagerToLoadFrom)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">org.ccnx.ccn.impl.security.keys.SecureKeyCache.SecureKeyCache </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1_key_manager.html">KeyManager</a>&#160;</td>
          <td class="paramname"><em>keyManagerToLoadFrom</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructor that loads keys from a <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1_key_manager.html" title="Top-level interface for managing our own keys, as well as maintaining an address book containing the ...">KeyManager</a>. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">keyManagerToLoadFrom</td><td>the key manager TODO bug -- should merge key caches, not just load signing keys. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a43e00b1198b6ff057680f6b0a4b40a34"></a><!-- doxytag: member="org::ccnx::ccn::impl::security::keys::SecureKeyCache::addKey" ref="a43e00b1198b6ff057680f6b0a4b40a34" args="(ContentName name, Key key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">synchronized void <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#a43e00b1198b6ff057680f6b0a4b40a34">org.ccnx.ccn.impl.security.keys.SecureKeyCache.addKey</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a>&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Key&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Make a record of a key by its name and digest. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>the name of the key. </td></tr>
    <tr><td class="paramname">key</td><td>the key. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1d5cb2fd727fce4db98a7f492b38edf3"></a><!-- doxytag: member="org::ccnx::ccn::impl::security::keys::SecureKeyCache::addMySigningKey" ref="a1d5cb2fd727fce4db98a7f492b38edf3" args="(byte[] publicKeyIdentifier, Key k)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">synchronized void <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#a1d5cb2fd727fce4db98a7f492b38edf3">org.ccnx.ccn.impl.security.keys.SecureKeyCache.addMySigningKey</a> </td>
          <td>(</td>
          <td class="paramtype">byte[]&#160;</td>
          <td class="paramname"><em>publicKeyIdentifier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Key&#160;</td>
          <td class="paramname"><em>k</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Records one of my private keys and the digest of the corresponding public key. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">publicKeyIdentifier</td><td>the digest of the public key. </td></tr>
    <tr><td class="paramname">pk</td><td>the corresponding private key. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a05d8744078c59c12292b70010ce09842"></a><!-- doxytag: member="org::ccnx::ccn::impl::security::keys::SecureKeyCache::addPrivateKey" ref="a05d8744078c59c12292b70010ce09842" args="(ContentName keyName, byte[] publicKeyIdentifier, PrivateKey pk)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">synchronized void <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#a05d8744078c59c12292b70010ce09842">org.ccnx.ccn.impl.security.keys.SecureKeyCache.addPrivateKey</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a>&#160;</td>
          <td class="paramname"><em>keyName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte[]&#160;</td>
          <td class="paramname"><em>publicKeyIdentifier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PrivateKey&#160;</td>
          <td class="paramname"><em>pk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Records a private key and the name and digest of the corresponding public key. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">keyName</td><td>a name under which to look up the private key </td></tr>
    <tr><td class="paramname">publicKeyIdentifier</td><td>the digest of the public key </td></tr>
    <tr><td class="paramname">pk</td><td>the private key </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a20214a536a9bc5e52be37fb77dd43b5d"></a><!-- doxytag: member="org::ccnx::ccn::impl::security::keys::SecureKeyCache::addSecretKey" ref="a20214a536a9bc5e52be37fb77dd43b5d" args="(ContentName keyName, SecretKey sk)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">synchronized void <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#a20214a536a9bc5e52be37fb77dd43b5d">org.ccnx.ccn.impl.security.keys.SecureKeyCache.addSecretKey</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a>&#160;</td>
          <td class="paramname"><em>keyName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SecretKey&#160;</td>
          <td class="paramname"><em>sk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Records a secret (symmetric) key and the name and digest of the corresponding identifier (which should be a "PublisherPublicKeyDigest". </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">keyName</td><td>a name under which to look up the private key </td></tr>
    <tr><td class="paramname">identifier</td><td>the digest of the public key </td></tr>
    <tr><td class="paramname">sk</td><td>the secret key </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9e1a657db9d7d9c07106b4c6ec0bc377"></a><!-- doxytag: member="org::ccnx::ccn::impl::security::keys::SecureKeyCache::containsKey" ref="a9e1a657db9d7d9c07106b4c6ec0bc377" args="(byte[] keyIdentifier)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#a9e1a657db9d7d9c07106b4c6ec0bc377">org.ccnx.ccn.impl.security.keys.SecureKeyCache.containsKey</a> </td>
          <td>(</td>
          <td class="paramtype">byte[]&#160;</td>
          <td class="paramname"><em>keyIdentifier</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Checks whether we have a record of a key specified by its digest, or in the case of a private key, the digest of the corresponding public key. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">keyIdentifier</td><td>the key digest. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>

</div>
</div>
<a class="anchor" id="a37797fb49c22e81c8350b7b730275166"></a><!-- doxytag: member="org::ccnx::ccn::impl::security::keys::SecureKeyCache::containsKey" ref="a37797fb49c22e81c8350b7b730275166" args="(ContentName keyName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#a9e1a657db9d7d9c07106b4c6ec0bc377">org.ccnx.ccn.impl.security.keys.SecureKeyCache.containsKey</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a>&#160;</td>
          <td class="paramname"><em>keyName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>As the map from name to content is not unique, this might not give you a definite answer, and you should still check the digest. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">keyName</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>

</div>
</div>
<a class="anchor" id="a8b27fe5aaa72fb7b5fd322a604fbd104"></a><!-- doxytag: member="org::ccnx::ccn::impl::security::keys::SecureKeyCache::getKey" ref="a8b27fe5aaa72fb7b5fd322a604fbd104" args="(byte[] desiredKeyIdentifier)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Key <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#a8b27fe5aaa72fb7b5fd322a604fbd104">org.ccnx.ccn.impl.security.keys.SecureKeyCache.getKey</a> </td>
          <td>(</td>
          <td class="paramtype">byte[]&#160;</td>
          <td class="paramname"><em>desiredKeyIdentifier</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Retrieve a key specified by its digest To restrict access to keys, store key cache in a private variable, and don't allow references to it from untrusted code. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">desiredKeyIdentifier</td><td>the digest </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the key </dd></dl>

</div>
</div>
<a class="anchor" id="a64309aa02d2f26839ef43ded9ad8ada7"></a><!-- doxytag: member="org::ccnx::ccn::impl::security::keys::SecureKeyCache::getKeyID" ref="a64309aa02d2f26839ef43ded9ad8ada7" args="(ContentName versionedName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">byte [] <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#a64309aa02d2f26839ef43ded9ad8ada7">org.ccnx.ccn.impl.security.keys.SecureKeyCache.getKeyID</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a>&#160;</td>
          <td class="paramname"><em>versionedName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the key ID associated with a name, if we have one. </p>
<p>Currently store keys under versioned names -- might be nice to effectively search over versions of a key... This can be used to look up the key, allowing the caller to be sure they have the right key. </p>

</div>
</div>
<a class="anchor" id="a3948dde81e9dcb65d981c797d20d1ed9"></a><!-- doxytag: member="org::ccnx::ccn::impl::security::keys::SecureKeyCache::getKeyIdentifier" ref="a3948dde81e9dcb65d981c797d20d1ed9" args="(Key key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static byte [] <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#a3948dde81e9dcb65d981c797d20d1ed9">org.ccnx.ccn.impl.security.keys.SecureKeyCache.getKeyIdentifier</a> </td>
          <td>(</td>
          <td class="paramtype">Key&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the digest of a specified key. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>the key. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the digest. </dd></dl>

</div>
</div>
<a class="anchor" id="a63878b6e34a31bb2ae8d7b67f605cb2d"></a><!-- doxytag: member="org::ccnx::ccn::impl::security::keys::SecureKeyCache::getPrivateKey" ref="a63878b6e34a31bb2ae8d7b67f605cb2d" args="(byte[] desiredPublicKeyIdentifier)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Key <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#a63878b6e34a31bb2ae8d7b67f605cb2d">org.ccnx.ccn.impl.security.keys.SecureKeyCache.getPrivateKey</a> </td>
          <td>(</td>
          <td class="paramtype">byte[]&#160;</td>
          <td class="paramname"><em>desiredPublicKeyIdentifier</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the private key corresponding to a key identified by its digest. </p>
<p>To restrict access to keys, store key cache in a private variable, and don't allow references to it from untrusted code. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">desiredPublicKeyIdentifier</td><td>the digest of the public key. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the corresponding private key. </dd></dl>

</div>
</div>
<a class="anchor" id="a0536caacf41fe884130b3fd5d494bb94"></a><!-- doxytag: member="org::ccnx::ccn::impl::security::keys::SecureKeyCache::loadKeyStore" ref="a0536caacf41fe884130b3fd5d494bb94" args="(KeyStoreInfo keyStoreInfo, char[] password, PublicKeyCache publicKeyCache)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#a0536caacf41fe884130b3fd5d494bb94">org.ccnx.ccn.impl.security.keys.SecureKeyCache.loadKeyStore</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_key_store_info.html">KeyStoreInfo</a>&#160;</td>
          <td class="paramname"><em>keyStoreInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char[]&#160;</td>
          <td class="paramname"><em>password</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_public_key_cache.html">PublicKeyCache</a>&#160;</td>
          <td class="paramname"><em>publicKeyCache</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>  throws KeyStoreException </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Load the private keys from a KeyStore. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">keystore</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname">KeyStoreException</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aef3ac3c7f1b73a742cf0c14870f11790"></a><!-- doxytag: member="org::ccnx::ccn::impl::security::keys::SecureKeyCache::merge" ref="aef3ac3c7f1b73a742cf0c14870f11790" args="(SecureKeyCache cache)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">synchronized void <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#aef3ac3c7f1b73a742cf0c14870f11790">org.ccnx.ccn.impl.security.keys.SecureKeyCache.merge</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html">SecureKeyCache</a>&#160;</td>
          <td class="paramname"><em>cache</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Merges the <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html" title="A container for our private keys and other secret key material that we have retrieved (e...">SecureKeyCache</a> with a given <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html" title="A container for our private keys and other secret key material that we have retrieved (e...">SecureKeyCache</a>. </p>
<p>The original <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html" title="A container for our private keys and other secret key material that we have retrieved (e...">SecureKeyCache</a> dominates, i.e. the merged cache will contain the names in the original cache if there are any conflicts</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">cache</td><td>the <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html" title="A container for our private keys and other secret key material that we have retrieved (e...">SecureKeyCache</a> to merge with </td></tr>
  </table>
  </dd>
</dl>
<p>_keyMap.putAll(cache._keyMap); _myKeyMap.putAll(cache._myKeyMap); _privateKeyMap.putAll(cache._privateKeyMap); _privateKeyIdentifierMap.putAll(cache._privateKeyIdentifierMap);</p>
<p>Collection&lt;byte[]&gt; digests = cache._nameKeyMap.values(); Iterator&lt;byte[]&gt; it = digests.iterator(); while (it.hasNext()) {</p>
<p>if (this._nameKeyMap.containsValue(it.next())) { it.remove(); } }</p>
<p>_nameKeyMap.putAll(cache._nameKeyMap);</p>

</div>
</div>
<a class="anchor" id="afffa0891afdf8176410c5deb8946993a"></a><!-- doxytag: member="org::ccnx::ccn::impl::security::keys::SecureKeyCache::size" ref="afffa0891afdf8176410c5deb8946993a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#afffa0891afdf8176410c5deb8946993a">org.ccnx.ccn.impl.security.keys.SecureKeyCache.size</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return a total count of keys in this cache. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>

</div>
</div>
<a class="anchor" id="a96aa7e64e268a5e1e1de95492f4c24f9"></a><!-- doxytag: member="org::ccnx::ccn::impl::security::keys::SecureKeyCache::validateForWriting" ref="a96aa7e64e268a5e1e1de95492f4c24f9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#a96aa7e64e268a5e1e1de95492f4c24f9">org.ccnx.ccn.impl.security.keys.SecureKeyCache.validateForWriting</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Make sure everything in here is Serializable. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/main/org/ccnx/ccn/impl/security/keys/SecureKeyCache.java</li>
</ul>
</div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><b>org</b>      </li>
      <li class="navelem"><b>ccnx</b>      </li>
      <li class="navelem"><b>ccn</b>      </li>
      <li class="navelem"><a class="el" href="namespaceorg_1_1ccnx_1_1ccn_1_1impl.html">impl</a>      </li>
      <li class="navelem"><b>security</b>      </li>
      <li class="navelem"><b>keys</b>      </li>
      <li class="navelem"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html">SecureKeyCache</a>      </li>

    <li class="footer">Generated on Tue Apr 1 2014 10:51:28 for Content-Centric Networking in Java by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
